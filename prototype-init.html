<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>NextRN - Nursing Support, Anywhere</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
      @layer base {
        :root {
          --background: 201 5% 12%;
          --card: 201 5% 12%;
          --popover: 201 5% 12%;
          --sidebar: 201 5% 12%;
          --foreground: 200 2% 95%;
          --card-foreground: 200 2% 95%;
          --popover-foreground: 200 2% 95%;
          --sidebar-foreground: 200 2% 95%;
          --primary: 200 100% 80%;
          --sidebar-primary: 200 100% 80%;
          --primary-foreground: 0 0% 10%;
          --sidebar-primary-foreground: 0 0% 10%;
          --secondary: 202 10% 20%;
          --accent: 202 10% 20%;
          --sidebar-accent: 202 10% 20%;
          --secondary-foreground: 0 0% 95%;
          --accent-foreground: 0 0% 95%;
          --sidebar-accent-foreground: 0 0% 95%;
          --muted: 201 7% 25%;
          --muted-foreground: 201 3% 60%;
          --destructive: 0 85% 55%;
          --destructive-foreground: 0 0% 95%;
          --border: 201 14% 22%;
          --sidebar-border: 201 14% 22%;
          --ring: 200 47% 27%;
          --sidebar-ring: 200 47% 27%;
          --input: 200 13% 22%;
          --chart-1: 200 100% 80%;
          --chart-2: 195 95% 80%;
          --chart-3: 210 90% 80%;
          --chart-4: 185 85% 80%;
          --chart-5: 200 80% 80%;
          --radius: 0.5rem;
        }
      }

      /* Custom scrollbar with Shadcn colors */
      ::-webkit-scrollbar {
        width: 4px;
      }
      ::-webkit-scrollbar-track {
        background: transparent;
      }
      ::-webkit-scrollbar-thumb {
        background: hsl(var(--primary));
        border-radius: 2px;
      }

      /* Smooth transitions */
      * {
        transition: background-color 0.2s ease, color 0.2s ease;
      }

      /* Active navigation state with Shadcn primary */
      .nav-active {
        background: hsl(var(--primary));
      }

      /* Floating Action Button */
      .fab {
        position: fixed;
        bottom: 24px;
        right: 24px;
        width: 56px;
        height: 56px;
        background: hsl(var(--primary));
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        z-index: 1000;
        transition: all 0.3s ease;
      }
      
      .fab:hover {
        background: hsl(var(--primary));
        transform: scale(1.1);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
      }
      
      .fab:active {
        transform: scale(0.95);
      }

      /* Notification Center */
      .notification-panel {
        position: fixed;
        top: 0;
        right: -400px;
        width: 400px;
        height: 100vh;
        background: hsl(var(--background));
        border-left: 1px solid hsl(var(--border));
        z-index: 2000;
        transition: right 0.3s ease;
        overflow-y: auto;
      }
      
      .notification-panel.open {
        right: 0;
      }
      
      .notification-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1999;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
      }
      
      .notification-overlay.open {
        opacity: 1;
        visibility: visible;
      }
      
      .notification-badge {
        position: absolute;
        top: -4px;
        right: -4px;
        width: 16px;
        height: 16px;
        background: #ef4444;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 10px;
        font-weight: bold;
        color: white;
      }

      /* Global Search Modal */
      .search-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.5);
        z-index: 3000;
        display: flex;
        align-items: flex-start;
        justify-content: center;
        padding: 80px 20px 20px;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
      }
      
      .search-modal.open {
        opacity: 1;
        visibility: visible;
      }
      
      .search-container {
        width: 100%;
        max-width: 600px;
        background: hsl(var(--background));
        border-radius: 12px;
        border: 1px solid hsl(var(--border));
        overflow: hidden;
        transform: translateY(-20px);
        transition: transform 0.3s ease;
      }
      
      .search-modal.open .search-container {
        transform: translateY(0);
      }
      
      .search-input-container {
        display: flex;
        align-items: center;
        padding: 16px;
        border-bottom: 1px solid hsl(var(--border));
      }
      
      .search-input {
        flex: 1;
        background: transparent;
        border: none;
        outline: none;
        color: hsl(var(--foreground));
        font-size: 18px;
        margin-left: 12px;
      }
      
      .search-input::placeholder {
        color: hsl(var(--muted-foreground));
      }
      
      .search-results {
        max-height: 400px;
        overflow-y: auto;
      }
      
      .search-section {
        padding: 12px 16px;
        border-bottom: 1px solid hsl(var(--border));
      }
      
      .search-section-title {
        font-size: 12px;
        font-weight: 600;
        color: hsl(var(--muted-foreground));
        text-transform: uppercase;
        letter-spacing: 0.05em;
        margin-bottom: 8px;
      }
      
      .search-result-item {
        padding: 8px 0;
        cursor: pointer;
        border-radius: 6px;
        padding: 8px 12px;
        margin: 2px 0;
      }
      
      .search-result-item:hover {
        background: hsl(var(--accent));
      }

      /* Onboarding Flow */
      .onboarding-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.8);
        z-index: 4000;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
      }
      
      .onboarding-overlay.open {
        opacity: 1;
        visibility: visible;
      }
      
      .onboarding-card {
        width: 90%;
        max-width: 400px;
        background: hsl(var(--background));
        border-radius: 16px;
        border: 1px solid hsl(var(--border));
        overflow: hidden;
        transform: scale(0.9) translateY(20px);
        transition: transform 0.3s ease;
      }
      
      .onboarding-overlay.open .onboarding-card {
        transform: scale(1) translateY(0);
      }
      
      .onboarding-header {
        background: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--primary))/80 100%);
        padding: 24px;
        text-align: center;
        color: hsl(var(--background));
      }
      
      .onboarding-content {
        padding: 24px;
        text-align: center;
      }
      
      .onboarding-illustration {
        width: 80px;
        height: 80px;
        margin: 0 auto 16px;
        background: hsl(var(--primary))/10;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      
      .onboarding-progress {
        display: flex;
        gap: 8px;
        justify-content: center;
        margin-bottom: 20px;
      }
      
      .progress-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: hsl(var(--muted));
        transition: background 0.3s ease;
      }
      
      .progress-dot.active {
        background: hsl(var(--primary));
      }
      
      .progress-dot.completed {
        background: hsl(var(--primary));
      }
    </style>
  </head>
  <body
    class="dark bg-[hsl(var(--background))] text-[hsl(var(--foreground))] h-screen font-sans"
  >
    <!-- Main Container -->
    <div class="flex h-full">
      <!-- Sidebar Navigation -->
      <nav
        class="w-16 flex-shrink-0 bg-[hsl(var(--sidebar))] flex flex-col items-center py-4 border-r border-[hsl(var(--sidebar-border))]"
      >
        <!-- Logo -->
        <div
          class="w-10 h-10 bg-[hsl(var(--primary))] rounded-xl flex items-center justify-center mb-6"
        >
          <i
            data-lucide="user"
            class="w-5 h-5 text-[hsl(var(--background))]"
          ></i>
        </div>

        <!-- Navigation Icons -->
        <div class="flex flex-col gap-4">
          <a
            href="#threads"
            class="w-10 h-10 rounded-xl flex items-center justify-center hover:bg-[hsl(var(--accent))] active:bg-[hsl(var(--primary))] [&.active]:bg-[hsl(var(--primary))]"
            data-section="threads"
          >
            <i
              data-lucide="home"
              class="w-5 h-5 text-[hsl(var(--foreground))] [.active>&]:text-[hsl(var(--background))]"
            ></i>
          </a>
          <a
            href="#chat"
            class="w-10 h-10 rounded-xl flex items-center justify-center hover:bg-[hsl(var(--accent))] active:bg-[hsl(var(--primary))] [&.active]:bg-[hsl(var(--primary))]"
            data-section="chat"
          >
            <i
              data-lucide="message-circle"
              class="w-5 h-5 text-[hsl(var(--foreground))] [.active>&]:text-[hsl(var(--background))]"
            ></i>
          </a>
          <a
            href="#livestream"
            class="w-10 h-10 rounded-xl flex items-center justify-center hover:bg-[hsl(var(--accent))] active:bg-[hsl(var(--primary))] [&.active]:bg-[hsl(var(--primary))]"
            data-section="livestream"
          >
            <i
              data-lucide="radio"
              class="w-5 h-5 text-[hsl(var(--foreground))] [.active>&]:text-[hsl(var(--background))]"
            ></i>
          </a>
          <a
            href="#guest"
            class="w-10 h-10 rounded-xl flex items-center justify-center hover:bg-[hsl(var(--accent))] active:bg-[hsl(var(--primary))] [&.active]:bg-[hsl(var(--primary))]"
            data-section="guest"
          >
            <i
              data-lucide="door-closed"
              class="w-5 h-5 text-[hsl(var(--foreground))] [.active>&]:text-[hsl(var(--background))]"
            ></i>
          </a>
          <a
            href="#hall"
            class="w-10 h-10 rounded-xl flex items-center justify-center hover:bg-[hsl(var(--accent))] active:bg-[hsl(var(--primary))] [&.active]:bg-[hsl(var(--primary))]"
            data-section="hall"
          >
            <i
              data-lucide="trophy"
              class="w-5 h-5 text-[hsl(var(--foreground))] [.active>&]:text-[hsl(var(--background))]"
            ></i>
          </a>
        </div>

        <!-- Bottom Actions -->
        <div class="mt-auto flex flex-col gap-4">
          <button
            onclick="startOnboarding()"
            class="w-10 h-10 rounded-xl flex items-center justify-center hover:bg-[hsl(var(--accent))] active:bg-[hsl(var(--primary))] text-[hsl(var(--foreground))]"
            title="Take tour"
          >
            <i
              data-lucide="help-circle"
              class="w-5 h-5"
            ></i>
          </button>
          <a
            href="#settings"
            class="w-10 h-10 rounded-xl flex items-center justify-center hover:bg-[hsl(var(--accent))] active:bg-[hsl(var(--primary))] [&.active]:bg-[hsl(var(--primary))]"
            data-section="settings"
          >
            <i
              data-lucide="settings"
              class="w-5 h-5 text-[hsl(var(--foreground))] [.active>&]:text-[hsl(var(--background))]"
            ></i>
          </a>
          <button
            onclick="handleLogout()"
            class="w-10 h-10 rounded-xl flex items-center justify-center hover:bg-[hsl(var(--accent))] active:bg-[hsl(var(--primary))] [&.active]:bg-[hsl(var(--primary))]"
            title="Sign out"
          >
            <i
              data-lucide="log-out"
              class="w-5 h-5 text-[hsl(var(--foreground))] [.active>&]:text-[hsl(var(--background))]"
            ></i>
          </button>
        </div>
      </nav>

      <!-- Main Content Area -->
      <div class="flex-1 flex flex-col bg-[hsl(var(--background))] min-w-0 overflow-hidden">
        <!-- Threads Section (Home) -->
        <div id="threads-section" class="flex-1 flex flex-col overflow-hidden">
          <!-- Header -->
          <header
            class="h-14 border-b border-[hsl(var(--border))] flex items-center px-4"
          >
            <!-- <i
              data-lucide="
              class="w-5 h-5 text-[hsl(var(--muted-foreground))] mr-2"
            ></i> -->
            <h1 class="text-base font-semibold text-[hsl(var(--primary))]">
              Threads
            </h1>
            <div class="ml-auto flex items-center gap-3">
              <button
                class="text-[hsl(var(--foreground))] hover:text-[hsl(var(--foreground))]"
                onclick="openSearch()"
              >
                <i data-lucide="search" class="w-5 h-5"></i>
              </button>
              <button
                class="text-[hsl(var(--foreground))] hover:text-[hsl(var(--foreground))]"
              >
                <i data-lucide="filter" class="w-5 h-5"></i>
              </button>
              <button
                id="notification-btn"
                class="relative text-[hsl(var(--foreground))] hover:text-[hsl(var(--foreground))]"
                onclick="toggleNotifications()"
              >
                <i data-lucide="bell" class="w-5 h-5"></i>
                <span id="notification-badge" class="notification-badge">3</span>
              </button>
            </div>
          </header>

          <!-- Threads Feed -->
          <div class="flex-1 overflow-y-auto overflow-x-hidden">
            <!-- Thread 1 -->
            <div
              class="border-b border-[hsl(var(--border))] p-4 hover:bg-[hsl(var(--card))]/50"
            >
              <div class="flex gap-3">
                <div
                  class="w-10 h-10 rounded-full bg-[hsl(var(--muted))] flex-shrink-0 flex items-center justify-center"
                >
                  <i
                    data-lucide="user"
                    class="w-5 h-5 text-[hsl(var(--foreground))]"
                  ></i>
                </div>
                <div class="flex-1">
                  <div class="flex items-center gap-2 mb-1">
                    <span class="text-sm font-medium">Sofia M.</span>
                    <span class="text-xs text-[hsl(var(--muted-foreground))]"
                      >@sofia_nurse</span
                    >
                    <span class="text-xs text-[hsl(var(--muted-foreground))]"
                      >·</span
                    >
                    <span class="text-xs text-[hsl(var(--muted-foreground))]"
                      >2h</span
                    >
                  </div>
                  <p class="text-sm text-[hsl(var(--foreground))] mb-3">
                    Just had my first successful IV insertion today! 💉 Shoutout
                    to RN Emma for the amazing tips yesterday. Practice really
                    does make perfect! #NursingStudent #ClinicalSkills
                  </p>

                  <div
                    class="flex items-center gap-6 text-[hsl(var(--muted-foreground))]"
                  >
                    <button
                      class="flex items-center gap-1 hover:text-[hsl(var(--primary))]"
                    >
                      <i data-lucide="message-circle" class="w-4 h-4"></i>
                      <span class="text-xs">12</span>
                    </button>
                    <button
                      class="flex items-center gap-1 hover:text-[hsl(var(--muted-foreground))]"
                    >
                      <i data-lucide="repeat" class="w-4 h-4"></i>
                      <span class="text-xs">3</span>
                    </button>
                    <button class="flex items-center gap-1 hover:text-red-400">
                      <i data-lucide="heart" class="w-4 h-4"></i>
                      <span class="text-xs">28</span>
                    </button>
                    <button
                      class="flex items-center gap-1 hover:text-[hsl(var(--primary))]"
                    >
                      <i data-lucide="share" class="w-4 h-4"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Thread 2 -->
            <div
              class="border-b border-[hsl(var(--border))] p-4 hover:bg-[hsl(var(--card))]/50"
            >
              <div class="flex gap-3">
                <div
                  class="w-10 h-10 rounded-full bg-[hsl(var(--primary))] flex-shrink-0 flex items-center justify-center"
                >
                  <i
                    data-lucide="user"
                    class="w-4 h-4 text-[hsl(var(--background))]"
                  ></i>
                </div>
                <div class="flex-1">
                  <div class="flex items-center gap-2 mb-1">
                    <span class="text-sm font-medium text-[hsl(var(--primary))]"
                      >RN Emma</span
                    >
                    <span
                      class="text-xs bg-[hsl(var(--primary))]/20 text-[hsl(var(--primary))] px-1.5 rounded"
                      >Verified RN</span
                    >
                    <span class="text-xs text-[hsl(var(--muted-foreground))]"
                      >·</span
                    >
                    <span class="text-xs text-[hsl(var(--muted-foreground))]"
                      >4h</span
                    >
                  </div>
                  <p class="text-sm text-[hsl(var(--foreground))] mb-3">
                    Quick tip for new nursing students: When calculating
                    pediatric dosages, always double-check your math and have
                    another nurse verify. Patient safety is our #1 priority! 🏥
                  </p>

                  <div
                    class="flex items-center gap-6 text-[hsl(var(--muted-foreground))]"
                  >
                    <button
                      class="flex items-center gap-1 hover:text-[hsl(var(--primary))]"
                    >
                      <i data-lucide="message-circle" class="w-4 h-4"></i>
                      <span class="text-xs">45</span>
                    </button>
                    <button
                      class="flex items-center gap-1 hover:text-[hsl(var(--muted-foreground))]"
                    >
                      <i data-lucide="repeat" class="w-4 h-4"></i>
                      <span class="text-xs">18</span>
                    </button>
                    <button class="flex items-center gap-1 hover:text-red-400">
                      <i data-lucide="heart" class="w-4 h-4"></i>
                      <span class="text-xs">127</span>
                    </button>
                    <button
                      class="flex items-center gap-1 hover:text-[hsl(var(--primary))]"
                    >
                      <i data-lucide="share" class="w-4 h-4"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Thread 3 -->
            <div
              class="border-b border-[hsl(var(--border))] p-4 hover:bg-[hsl(var(--card))]/50"
            >
              <div class="flex gap-3">
                <div
                  class="w-10 h-10 rounded-full bg-[hsl(var(--muted))] flex-shrink-0 flex items-center justify-center"
                >
                  <i
                    data-lucide="user"
                    class="w-5 h-5 text-[hsl(var(--foreground))]"
                  ></i>
                </div>
                <div class="flex-1">
                  <div class="flex items-center gap-2 mb-1">
                    <span class="text-sm font-medium">Marcus J.</span>
                    <span class="text-xs text-[hsl(var(--muted-foreground))]"
                      >@marcus_rn</span
                    >
                    <span class="text-xs text-[hsl(var(--muted-foreground))]"
                      >·</span
                    >
                    <span class="text-xs text-[hsl(var(--muted-foreground))]"
                      >6h</span
                    >
                  </div>
                  <p class="text-sm text-[hsl(var(--foreground))] mb-3">
                    Studying for NCLEX and feeling overwhelmed? Remember: focus
                    on safety and prioritization. What would you do FIRST?
                    That's usually your answer! 📚
                  </p>

                  <div
                    class="flex items-center gap-6 text-[hsl(var(--muted-foreground))]"
                  >
                    <button
                      class="flex items-center gap-1 hover:text-[hsl(var(--primary))]"
                    >
                      <i data-lucide="message-circle" class="w-4 h-4"></i>
                      <span class="text-xs">23</span>
                    </button>
                    <button
                      class="flex items-center gap-1 hover:text-[hsl(var(--muted-foreground))]"
                    >
                      <i data-lucide="repeat" class="w-4 h-4"></i>
                      <span class="text-xs">8</span>
                    </button>
                    <button class="flex items-center gap-1 hover:text-red-400">
                      <i data-lucide="heart" class="w-4 h-4"></i>
                      <span class="text-xs">56</span>
                    </button>
                    <button
                      class="flex items-center gap-1 hover:text-[hsl(var(--primary))]"
                    >
                      <i data-lucide="share" class="w-4 h-4"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>

        <!-- Direct Messages Section -->
        <div id="chat-section" class="flex-1 flex-col hidden overflow-hidden">
          <!-- Chat Rooms Header -->
          <header
            class="h-14 border-b border-[hsl(var(--border))] flex items-center px-4"
          >
            <h1 class="text-base font-semibold text-[hsl(var(--primary))]">
              Messages
            </h1>
            <div class="ml-auto flex items-center gap-3">
              <button
                class="text-[hsl(var(--foreground))] hover:text-[hsl(var(--foreground))]"
                title="Search conversations"
              >
                <i data-lucide="search" class="w-5 h-5"></i>
              </button>
              <button
                class="text-[hsl(var(--foreground))] hover:text-[hsl(var(--foreground))]"
                title="New message"
              >
                <i data-lucide="edit" class="w-5 h-5"></i>
              </button>
            </div>
          </header>

          <!-- Chat Rooms List -->
          <div class="overflow-y-auto overflow-x-hidden flex-1">
            <!-- Active Conversations -->
            <div class="p-4">
              <h2 class="text-xs font-semibold text-[hsl(var(--muted-foreground))] mb-3 uppercase tracking-wide">
                Active Conversations
              </h2>
              
              <!-- Chat Room 1 - RN Emma (Active) -->
              <div class="flex items-center gap-3 p-3 rounded-lg hover:bg-[hsl(var(--accent))]/50 cursor-pointer bg-[hsl(var(--accent))]/30 border border-[hsl(var(--border))] mb-2">
                <div class="relative">
                  <div class="w-12 h-12 rounded-full bg-[hsl(var(--primary))] flex items-center justify-center">
                    <span class="text-sm text-[hsl(var(--background))] font-semibold">E</span>
                  </div>
                  <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-[hsl(var(--background))] rounded-full"></div>
                </div>
                <div class="flex-1 min-w-0">
                  <div class="flex items-center justify-between">
                    <h3 class="text-sm font-semibold text-[hsl(var(--foreground))]">RN Emma Rodriguez</h3>
                    <span class="text-xs text-[hsl(var(--muted-foreground))]">2:45 PM</span>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="text-xs bg-[hsl(var(--primary))]/20 text-[hsl(var(--primary))] px-2 py-1 rounded">ICU</span>
                    <span class="text-xs text-[hsl(var(--muted-foreground))]">Available • $2/question</span>
                  </div>
                  <p class="text-xs text-[hsl(var(--muted-foreground))] truncate mt-1">
                    You're welcome! Remember to always double-check...
                  </p>
                </div>
                <div class="flex flex-col items-end gap-1">
                  <div class="w-2 h-2 bg-[hsl(var(--primary))] rounded-full"></div>
                </div>
              </div>

              <!-- Chat Room 2 - RN Marcus -->
              <div class="flex items-center gap-3 p-3 rounded-lg hover:bg-[hsl(var(--accent))]/50 cursor-pointer mb-2">
                <div class="relative">
                  <div class="w-12 h-12 rounded-full bg-[hsl(var(--muted))] flex items-center justify-center">
                    <span class="text-sm text-[hsl(var(--foreground))] font-semibold">M</span>
                  </div>
                  <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-[hsl(var(--background))] rounded-full"></div>
                </div>
                <div class="flex-1 min-w-0">
                  <div class="flex items-center justify-between">
                    <h3 class="text-sm font-semibold text-[hsl(var(--foreground))]">RN Marcus Johnson</h3>
                    <span class="text-xs text-[hsl(var(--muted-foreground))]">1:20 PM</span>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="text-xs bg-[hsl(var(--secondary))]/20 text-[hsl(var(--secondary-foreground))] px-2 py-1 rounded">ER</span>
                    <span class="text-xs text-[hsl(var(--muted-foreground))]">Available • $2/question</span>
                  </div>
                  <p class="text-xs text-[hsl(var(--muted-foreground))] truncate mt-1">
                    Great question about trauma protocols. In our ER...
                  </p>
                </div>
                <div class="flex flex-col items-end gap-1">
                  <div class="w-2 h-2 bg-[hsl(var(--primary))] rounded-full"></div>
                </div>
              </div>

              <!-- Chat Room 3 - RN Sarah -->
              <div class="flex items-center gap-3 p-3 rounded-lg hover:bg-[hsl(var(--accent))]/50 cursor-pointer mb-2">
                <div class="relative">
                  <div class="w-12 h-12 rounded-full bg-[hsl(var(--chart-3))]/20 flex items-center justify-center">
                    <span class="text-sm text-[hsl(var(--foreground))] font-semibold">S</span>
                  </div>
                  <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-yellow-500 border-2 border-[hsl(var(--background))] rounded-full"></div>
                </div>
                <div class="flex-1 min-w-0">
                  <div class="flex items-center justify-between">
                    <h3 class="text-sm font-semibold text-[hsl(var(--foreground))]">RN Sarah Chen</h3>
                    <span class="text-xs text-[hsl(var(--muted-foreground))]">Yesterday</span>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="text-xs bg-[hsl(var(--chart-1))]/20 text-[hsl(var(--chart-1))] px-2 py-1 rounded">PICU</span>
                    <span class="text-xs text-[hsl(var(--muted-foreground))]">Away • $2/question</span>
                  </div>
                  <p class="text-xs text-[hsl(var(--muted-foreground))] truncate mt-1">
                    Thanks for the pediatric dosage help! That really...
                  </p>
                </div>
              </div>

              <!-- Chat Room 4 - Study Group -->
              <div class="flex items-center gap-3 p-3 rounded-lg hover:bg-[hsl(var(--accent))]/50 cursor-pointer mb-2">
                <div class="relative">
                  <div class="w-12 h-12 rounded-full bg-[hsl(var(--chart-2))]/20 flex items-center justify-center">
                    <i data-lucide="users" class="w-6 h-6 text-[hsl(var(--chart-2))]"></i>
                  </div>
                  <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-[hsl(var(--background))] rounded-full"></div>
                </div>
                <div class="flex-1 min-w-0">
                  <div class="flex items-center justify-between">
                    <h3 class="text-sm font-semibold text-[hsl(var(--foreground))]">NCLEX Study Group</h3>
                    <span class="text-xs text-[hsl(var(--muted-foreground))]">11:30 AM</span>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="text-xs bg-[hsl(var(--chart-2))]/20 text-[hsl(var(--chart-2))] px-2 py-1 rounded">Study Group</span>
                    <span class="text-xs text-[hsl(var(--muted-foreground))]">8 members</span>
                  </div>
                  <p class="text-xs text-[hsl(var(--muted-foreground))] truncate mt-1">
                    Jessica: Anyone know the answer to question 47?
                  </p>
                </div>
                <div class="flex flex-col items-end gap-1">
                  <div class="w-5 h-4 bg-[hsl(var(--primary))] rounded-full flex items-center justify-center">
                    <span class="text-xs text-[hsl(var(--background))] font-bold">3</span>
                  </div>
                </div>
              </div>

              <!-- Chat Room 5 - RN David -->
              <div class="flex items-center gap-3 p-3 rounded-lg hover:bg-[hsl(var(--accent))]/50 cursor-pointer mb-2">
                <div class="relative">
                  <div class="w-12 h-12 rounded-full bg-[hsl(var(--chart-4))]/20 flex items-center justify-center">
                    <span class="text-sm text-[hsl(var(--foreground))] font-semibold">D</span>
                  </div>
                  <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-gray-400 border-2 border-[hsl(var(--background))] rounded-full"></div>
                </div>
                <div class="flex-1 min-w-0">
                  <div class="flex items-center justify-between">
                    <h3 class="text-sm font-semibold text-[hsl(var(--foreground))]">RN David Kim</h3>
                    <span class="text-xs text-[hsl(var(--muted-foreground))]">2 days ago</span>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="text-xs bg-[hsl(var(--chart-4))]/20 text-[hsl(var(--chart-4))] px-2 py-1 rounded">OR</span>
                    <span class="text-xs text-[hsl(var(--muted-foreground))]">Offline • $2/question</span>
                  </div>
                  <p class="text-xs text-[hsl(var(--muted-foreground))] truncate mt-1">
                    The surgical prep protocols you asked about...
                  </p>
                </div>
              </div>
            </div>
          </div>

          <!-- Individual Chat View (Hidden by default, shown when chat is selected) -->
          <div id="individual-chat" class="hidden flex-1 flex flex-col overflow-hidden">
          <!-- Chat Header -->
          <header
            class="h-14 border-b border-[hsl(var(--border))] flex items-center px-4"
          >
            <div
              class="w-8 h-8 rounded-full bg-[hsl(var(--primary))] flex items-center justify-center mr-3"
            >
              <span class="text-xs text-[hsl(var(--background))] font-semibold"
                >VIP</span
              >
            </div>
            <div class="flex-1">
              <h1 class="text-base font-semibold">RN Emma</h1>
              <p class="text-xs text-[hsl(var(--muted-foreground))]">
                Verified RN • Available for $2/question
              </p>
            </div>
            <div class="flex items-center gap-3">
              <button
                class="text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))]"
              >
                <i data-lucide="phone" class="w-5 h-5"></i>
              </button>
              <button
                class="text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))]"
              >
                <i data-lucide="video" class="w-5 h-5"></i>
              </button>
              <button
                class="text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))]"
              >
                <i data-lucide="info" class="w-5 h-5"></i>
              </button>
            </div>
          </header>

          <!-- Messages Area -->
          <div class="flex-1 overflow-y-auto overflow-x-hidden p-4 space-y-4">
            <!-- Message from RN -->
            <div class="flex items-start gap-3">
              <div
                class="w-8 h-8 rounded-full bg-[hsl(var(--primary))] flex items-center justify-center flex-shrink-0"
              >
                <span
                  class="text-xs text-[hsl(var(--background))] font-semibold"
                  >E</span
                >
              </div>
              <div class="flex-1">
                <div
                  class="bg-[hsl(var(--muted))] rounded-2xl rounded-tl-md p-3 max-w-xs"
                >
                  <p class="text-sm text-[hsl(var(--foreground))]">
                    Hi! I saw your question about pediatric dosages. For a 25kg
                    child, the correct acetaminophen dose is 10-15 mg/kg. So
                    that would be 250-375mg per dose.
                  </p>
                </div>
                <span
                  class="text-xs text-[hsl(var(--muted-foreground))] mt-1 block"
                  >2:34 PM</span
                >
              </div>
            </div>

            <!-- Message from user -->
            <div class="flex items-start gap-3 justify-end">
              <div class="flex-1 flex justify-end">
                <div
                  class="bg-[hsl(var(--primary))] rounded-2xl rounded-tr-md p-3 max-w-xs"
                >
                  <p class="text-sm text-[hsl(var(--background))]">
                    Thank you so much! That really helps. I was getting confused
                    with the calculations.
                  </p>
                </div>
              </div>
            </div>

            <!-- Another message from RN -->
            <div class="flex items-start gap-3">
              <div
                class="w-8 h-8 rounded-full bg-[hsl(var(--primary))] flex items-center justify-center flex-shrink-0"
              >
                <span
                  class="text-xs text-[hsl(var(--background))] font-semibold"
                  >E</span
                >
              </div>
              <div class="flex-1">
                <div
                  class="bg-[hsl(var(--muted))] rounded-2xl rounded-tl-md p-3 max-w-xs"
                >
                  <p class="text-sm text-[hsl(var(--foreground))]">
                    You're welcome! Remember to always double-check with another
                    nurse when you're on the floor. Feel free to ask more
                    questions anytime!
                  </p>
                </div>
                <span
                  class="text-xs text-[hsl(var(--muted-foreground))] mt-1 block"
                  >2:45 PM</span
                >
              </div>
            </div>
          </div>

          <!-- Message Input -->
          <div class="p-4 border-t border-[hsl(var(--border))]">
            <div
              class="bg-[hsl(var(--card))] rounded-2xl flex items-end px-4 py-2"
            >
              <textarea
                placeholder="Type your message..."
                class="bg-[hsl(var(--background))] flex-1 text-sm outline-none placeholder-[hsl(var(--muted-foreground))] resize-none max-h-12"
                rows="1"
              ></textarea>
              <div class="flex items-center gap-3 ml-4">
                <button
                  class="bg-[hsl(var(--primary))] hover:bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] p-2 rounded-full"
                >
                  <i data-lucide="send" class="w-4 h-4"></i>
                </button>
              </div>
            </div>
            <p
              class="text-xs text-[hsl(var(--muted-foreground))] mt-2 text-center"
            >
              $2 per question • Instant expert answers
            </p>
          </div>
          </div>
        </div>

        <!-- Livestream Section -->
        <div
          id="livestream-section"
          class="flex-1 flex-col bg-[hsl(var(--background))] hidden overflow-hidden"
        >
          <!-- Livestream Header -->
          <header
            class="h-14 border-b border-[hsl(var(--border))] flex items-center px-4"
          >
            <div class="flex items-center gap-3">
              <div class="w-2 h-2 bg-red-500 rounded-full animate-pulse"></div>
              <i
                data-lucide="radio"
                class="w-5 h-5 text-[hsl(var(--primary))]"
              ></i>
              <div>
                <h1 class="text-base font-semibold">RN Emma Live</h1>
                <p class="text-xs text-[hsl(var(--muted-foreground))]">
                  NCLEX Prep & Dosage Calculations
                </p>
              </div>
            </div>
            <div class="ml-auto flex items-center gap-4">
              <div
                class="flex items-center gap-1 text-[hsl(var(--muted-foreground))]"
              >
                <i data-lucide="users" class="w-4 h-4"></i>
                <span class="text-sm">247</span>
              </div>
              <button
                class="text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))]"
              >
                <i data-lucide="share-2" class="w-5 h-5"></i>
              </button>
            </div>
          </header>

          <div class="flex-1 flex overflow-hidden">
            <!-- Main Video Area -->
            <div class="flex-1 flex flex-col overflow-hidden">
              <!-- Video Stream -->
              <div
                class="relative bg-[hsl(var(--muted))] aspect-video flex items-center justify-center"
              >
                <!-- Simulated video content -->
                <div class="absolute inset-0 bg-[hsl(var(--muted))]"></div>
                <div class="relative z-10 text-center">
                  <div
                    class="w-24 h-24 rounded-full bg-[hsl(var(--primary))] flex items-center justify-center mx-auto mb-4"
                  >
                    <i
                      data-lucide="user"
                      class="w-12 h-12 text-[hsl(var(--foreground))]"
                    ></i>
                  </div>
                  <h3
                    class="text-xl font-semibold text-[hsl(var(--foreground))] mb-2"
                  >
                    RN Emma Rodriguez
                  </h3>
                  <p class="text-[hsl(var(--foreground))] text-sm">
                    ICU Nurse • 8+ years experience
                  </p>
                </div>

                <!-- Live indicator -->
                <div
                  class="absolute top-4 left-4 bg-red-500 text-[hsl(var(--foreground))] px-2 py-1 rounded text-xs font-semibold flex items-center gap-1"
                >
                  <div
                    class="w-1.5 h-1.5 bg-white rounded-full animate-pulse"
                  ></div>
                  LIVE
                </div>

                <!-- Viewer count -->
                <div
                  class="absolute top-4 right-4 bg-[hsl(var(--background))]/50 backdrop-blur-sm text-[hsl(var(--foreground))] px-2 py-1 rounded text-xs flex items-center gap-1"
                >
                  <i data-lucide="eye" class="w-3 h-3"></i>
                  247 watching
                </div>

                <!-- Video controls overlay -->
                <div
                  class="absolute bottom-4 left-4 right-4 flex items-center justify-between"
                >
                  <div class="flex items-center gap-3">
                    <button
                      class="w-10 h-10 bg-[hsl(var(--background))]/50 backdrop-blur-sm rounded-full flex items-center justify-center text-[hsl(var(--foreground))] hover:bg-[hsl(var(--background))]/70"
                    >
                      <i data-lucide="volume-2" class="w-5 h-5"></i>
                    </button>
                  </div>
                  <div class="flex items-center gap-2">
                    <button
                      class="w-8 h-8 bg-[hsl(var(--background))]/50 backdrop-blur-sm rounded-full flex items-center justify-center text-[hsl(var(--foreground))] hover:bg-[hsl(var(--background))]/70"
                    >
                      <i data-lucide="maximize" class="w-4 h-4"></i>
                    </button>
                  </div>
                </div>
              </div>

              <!-- Stream Info & Actions -->
              <div class="p-4 border-b border-[hsl(var(--border))]">
                <div class="flex items-start justify-between mb-3">
                  <div class="flex-1">
                    <h2
                      class="text-lg font-semibold text-[hsl(var(--foreground))] mb-1"
                    >
                      NCLEX Prep Session: Medication Dosage Calculations
                    </h2>
                    <p class="text-sm text-[hsl(var(--muted-foreground))]">
                      Join us for live Q&A on pediatric and adult dosage
                      calculations. Bring your questions!
                    </p>
                  </div>
                </div>

                <div class="flex items-center gap-4">
                  <button
                    class="bg-[hsl(var(--primary))] hover:bg-[hsl(var(--primary))]/80 text-[hsl(var(--foreground))] px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-medium"
                  >
                    <i data-lucide="dollar-sign" class="w-4 h-4"></i>
                    Super Chat ($1)
                  </button>
                  <button
                    class="bg-[hsl(var(--primary))] hover:bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-medium"
                  >
                    <i data-lucide="heart" class="w-4 h-4"></i>
                    Follow
                  </button>
                  <button
                    class="bg-[hsl(var(--muted))] hover:bg-[hsl(var(--accent))] text-[hsl(var(--foreground))] px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-medium"
                  >
                    <i data-lucide="bell" class="w-4 h-4"></i>
                    Notify
                  </button>
                </div>
              </div>

              <!-- Live Chat -->
              <div class="flex-1 flex flex-col overflow-hidden">
                <div class="p-3 border-b border-[hsl(var(--border))]">
                  <h3
                    class="text-sm font-semibold text-[hsl(var(--foreground))]"
                  >
                    Live Chat
                  </h3>
                </div>

                <div class="flex-1 overflow-y-auto overflow-x-hidden p-3 space-y-3">
                  <!-- Super Chat message -->
                  <div
                    class="bg-[hsl(var(--primary))]/10 border border-[hsl(var(--primary))]/30 rounded-lg p-3"
                  >
                    <div class="flex items-center gap-2 mb-1">
                      <div
                        class="w-5 h-5 rounded-full bg-[hsl(var(--primary))] flex items-center justify-center"
                      >
                        <i
                          data-lucide="dollar-sign"
                          class="w-3 h-3 text-[hsl(var(--primary-foreground))]"
                        ></i>
                      </div>
                      <span
                        class="text-sm font-medium text-[hsl(var(--foreground))]"
                        >Sofia M.</span
                      >
                      <span
                        class="text-xs bg-[hsl(var(--primary))]/20 text-[hsl(var(--primary))] px-1.5 rounded"
                        >$5 Super Chat</span
                      >
                    </div>
                    <p class="text-sm text-[hsl(var(--foreground))]">
                      Can you explain the difference between mg/kg and mg/kg/day
                      for pediatric calculations?
                    </p>
                  </div>

                  <!-- Regular chat messages -->
                  <div class="flex items-start gap-2">
                    <div
                      class="w-6 h-6 rounded-full bg-[hsl(var(--muted))] flex-shrink-0"
                    ></div>
                    <div>
                      <div class="flex items-baseline gap-2">
                        <span
                          class="text-sm font-medium text-[hsl(var(--primary))]"
                          >Marcus_RN</span
                        >
                        <span
                          class="text-xs text-[hsl(var(--muted-foreground))]"
                          >2:34 PM</span
                        >
                      </div>
                      <p class="text-sm text-[hsl(var(--foreground))]">
                        Great explanation Emma! This is exactly what I needed
                        for my exam tomorrow 📚
                      </p>
                    </div>
                  </div>

                  <div class="flex items-start gap-2">
                    <div
                      class="w-6 h-6 rounded-full bg-[hsl(var(--muted))] flex-shrink-0"
                    ></div>
                    <div>
                      <div class="flex items-baseline gap-2">
                        <span
                          class="text-sm font-medium text-[hsl(var(--foreground))]"
                          >StudentNurse2025</span
                        >
                        <span
                          class="text-xs text-[hsl(var(--muted-foreground))]"
                          >2:35 PM</span
                        >
                      </div>
                      <p class="text-sm text-[hsl(var(--foreground))]">
                        Following! Love these live sessions 💙
                      </p>
                    </div>
                  </div>

                  <div class="flex items-start gap-2">
                    <div
                      class="w-6 h-6 rounded-full bg-[hsl(var(--muted))] flex-shrink-0"
                    ></div>
                    <div>
                      <div class="flex items-baseline gap-2">
                        <span
                          class="text-sm font-medium text-[hsl(var(--foreground))]"
                          >Lisa_Studying</span
                        >
                        <span
                          class="text-xs text-[hsl(var(--muted-foreground))]"
                          >2:36 PM</span
                        >
                      </div>
                      <p class="text-sm text-[hsl(var(--foreground))]">
                        Question: How do you calculate drip rates for IV fluids?
                      </p>
                    </div>
                  </div>

                  <div class="flex items-start gap-2">
                    <div
                      class="w-6 h-6 rounded-full bg-[hsl(var(--muted))] flex-shrink-0"
                    ></div>
                    <div>
                      <div class="flex items-baseline gap-2">
                        <span
                          class="text-sm font-medium text-[hsl(var(--primary))]"
                          >NightShiftRN</span
                        >
                        <span
                          class="text-xs bg-[hsl(var(--primary))]/20 text-[hsl(var(--primary))] px-1.5 rounded text-xs"
                          >Moderator</span
                        >
                        <span
                          class="text-xs text-[hsl(var(--muted-foreground))]"
                          >2:37 PM</span
                        >
                      </div>
                      <p class="text-sm text-[hsl(var(--foreground))]">
                        Remember to always double-check your calculations with
                        another nurse! Safety first! 🏥
                      </p>
                    </div>
                  </div>

                  <!-- New messages continue to appear -->
                  <div class="flex items-start gap-2">
                    <div
                      class="w-6 h-6 rounded-full bg-[hsl(var(--muted))] flex-shrink-0"
                    ></div>
                    <div>
                      <div class="flex items-baseline gap-2">
                        <span
                          class="text-sm font-medium text-[hsl(var(--foreground))]"
                          >Jake_ClinicalYear</span
                        >
                        <span
                          class="text-xs text-[hsl(var(--muted-foreground))]"
                          >2:38 PM</span
                        >
                      </div>
                      <p class="text-sm text-[hsl(var(--foreground))]">
                        This is helping me so much with my dosage calc homework!
                        Thank you! 🙏
                      </p>
                    </div>
                  </div>
                </div>

                <!-- Chat input -->
                <div class="p-3 border-t border-[hsl(var(--border))]">
                  <div class="flex gap-2">
                    <div
                      class="flex-1 bg-[hsl(var(--muted))] rounded-lg px-3 py-2 flex items-center"
                    >
                      <input
                        type="text"
                        placeholder="Send a message..."
                        class="bg-[hsl(var(--background))] flex-1 text-sm outline-none placeholder-[hsl(var(--muted-foreground))]"
                      />
                      <button
                        class="text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))] ml-2"
                      >
                        <i data-lucide="smile" class="w-4 h-4"></i>
                      </button>
                    </div>
                    <button
                      class="bg-[hsl(var(--primary))] hover:bg-[hsl(var(--primary))]/80 text-[hsl(var(--foreground))] px-3 py-2 rounded-lg flex items-center gap-1 text-sm"
                    >
                      <i data-lucide="dollar-sign" class="w-3 h-3"></i>
                      $1
                    </button>
                    <button
                      class="bg-[hsl(var(--primary))] hover:bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] px-3 py-2 rounded-lg"
                    >
                      <i data-lucide="send" class="w-4 h-4"></i>
                    </button>
                  </div>
                  <p class="text-xs text-[hsl(var(--muted-foreground))] mt-1">
                    Use Super Chat ($1) to highlight your question
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Guest Room Section -->
        <div
          id="guest-section"
          class="flex-1 flex-col bg-[hsl(var(--background))] hidden overflow-hidden"
        >
          <header
            class="h-14 border-b border-[hsl(var(--border))] flex items-center px-4"
          >
            <i
              data-lucide="door-closed"
              class="w-5 h-5 text-[hsl(var(--primary))] mr-2"
            ></i>
            <h1 class="text-base font-semibold">Guest Room</h1>
          </header>

          <div class="flex-1 overflow-y-auto overflow-x-hidden p-4">
            <!-- Study Timer -->
            <div class="mb-6">
              <h2
                class="text-sm font-semibold text-[hsl(var(--foreground))] mb-3 flex items-center gap-2"
              >
                <i data-lucide="timer" class="w-4 h-4"></i>
                Study Timer
              </h2>
              <div
                class="bg-[hsl(var(--card))] rounded-lg p-4 border border-[hsl(var(--border))]"
              >
                <div class="text-center mb-4">
                  <div class="text-3xl font-mono text-[hsl(var(--primary))] mb-2" id="timer-display">
                    25:00
                  </div>
                  <p class="text-xs text-[hsl(var(--muted-foreground))]">
                    Pomodoro Session
                  </p>
                </div>
                <div class="flex gap-2">
                  <button
                    id="timer-start"
                    class="flex-1 bg-[hsl(var(--primary))] hover:bg-[hsl(var(--primary))]/80 text-[hsl(var(--primary-foreground))] px-3 py-2 rounded-lg text-sm font-medium"
                  >
                    Start
                  </button>
                  <button
                    id="timer-pause"
                    class="flex-1 bg-[hsl(var(--muted))] hover:bg-[hsl(var(--accent))] text-[hsl(var(--foreground))] px-3 py-2 rounded-lg text-sm font-medium"
                  >
                    Pause
                  </button>
                  <button
                    id="timer-reset"
                    class="flex-1 bg-[hsl(var(--muted))] hover:bg-[hsl(var(--accent))] text-[hsl(var(--foreground))] px-3 py-2 rounded-lg text-sm font-medium"
                  >
                    Reset
                  </button>
                </div>
              </div>
            </div>

            <!-- NCLEX Prep -->
            <div class="mb-6">
              <h2
                class="text-sm font-semibold text-[hsl(var(--foreground))] mb-3 flex items-center gap-2"
              >
                <i data-lucide="brain" class="w-4 h-4"></i>
                NCLEX Prep
              </h2>
              <div
                class="bg-[hsl(var(--card))] rounded-lg p-4 border border-[hsl(var(--border))] space-y-3"
              >
                <div class="flex items-center justify-between">
                  <span class="text-sm text-[hsl(var(--foreground))]">Practice Questions Today</span>
                  <span class="text-sm font-semibold text-[hsl(var(--primary))]">12/20</span>
                </div>
                <div class="w-full bg-[hsl(var(--muted))] rounded-full h-2">
                  <div
                    class="bg-[hsl(var(--primary))] h-2 rounded-full"
                    style="width: 60%"
                  ></div>
                </div>
                <div class="flex gap-2">
                  <button
                    class="flex-1 bg-[hsl(var(--primary))] hover:bg-[hsl(var(--primary))]/80 text-[hsl(var(--primary-foreground))] px-3 py-2 rounded-lg text-sm font-medium"
                  >
                    Practice Now
                  </button>
                  <button
                    class="flex-1 bg-[hsl(var(--muted))] hover:bg-[hsl(var(--accent))] text-[hsl(var(--foreground))] px-3 py-2 rounded-lg text-sm font-medium"
                  >
                    Review
                  </button>
                </div>
              </div>
            </div>

            <!-- Clinical Tracker -->
            <div class="mb-6">
              <h2
                class="text-sm font-semibold text-[hsl(var(--foreground))] mb-3 flex items-center gap-2"
              >
                <i data-lucide="clipboard-check" class="w-4 h-4"></i>
                Clinical Hours Tracker
              </h2>
              <div
                class="bg-[hsl(var(--card))] rounded-lg p-4 border border-[hsl(var(--border))] space-y-3"
              >
                <div class="grid grid-cols-2 gap-4">
                  <div class="text-center">
                    <div class="text-lg font-semibold text-[hsl(var(--primary))]">124</div>
                    <div class="text-xs text-[hsl(var(--muted-foreground))]">Hours Completed</div>
                  </div>
                  <div class="text-center">
                    <div class="text-lg font-semibold text-[hsl(var(--foreground))]">876</div>
                    <div class="text-xs text-[hsl(var(--muted-foreground))]">Hours Remaining</div>
                  </div>
                </div>
                <div class="space-y-2">
                  <div class="flex justify-between text-xs">
                    <span class="text-[hsl(var(--muted-foreground))]">Medical-Surgical</span>
                    <span class="text-[hsl(var(--primary))]">45/120 hrs</span>
                  </div>
                  <div class="w-full bg-[hsl(var(--muted))] rounded-full h-1.5">
                    <div
                      class="bg-[hsl(var(--primary))] h-1.5 rounded-full"
                      style="width: 37.5%"
                    ></div>
                  </div>
                </div>
                <div class="space-y-2">
                  <div class="flex justify-between text-xs">
                    <span class="text-[hsl(var(--muted-foreground))]">Pediatrics</span>
                    <span class="text-[hsl(var(--primary))]">32/90 hrs</span>
                  </div>
                  <div class="w-full bg-[hsl(var(--muted))] rounded-full h-1.5">
                    <div
                      class="bg-[hsl(var(--primary))] h-1.5 rounded-full"
                      style="width: 35.5%"
                    ></div>
                  </div>
                </div>
                <button
                  class="w-full bg-[hsl(var(--muted))] hover:bg-[hsl(var(--accent))] text-[hsl(var(--foreground))] px-3 py-2 rounded-lg text-sm font-medium"
                >
                  Log Hours
                </button>
              </div>
            </div>

            <!-- To-Do List -->
            <div class="mb-6">
              <h2
                class="text-sm font-semibold text-[hsl(var(--foreground))] mb-3 flex items-center gap-2"
              >
                <i data-lucide="check-square" class="w-4 h-4"></i>
                Today's Tasks
              </h2>
              <div class="space-y-2">
                <div
                  class="bg-[hsl(var(--card))] rounded-lg p-3 border border-[hsl(var(--border))] flex items-center gap-3"
                >
                  <input
                    type="checkbox"
                    class="w-4 h-4 rounded border-[hsl(var(--border))] bg-[hsl(var(--muted))] text-[hsl(var(--primary))]"
                  />
                  <span class="text-sm text-[hsl(var(--foreground))] flex-1"
                    >Complete pharmacology chapter 5</span
                  >
                  <span class="text-xs text-[hsl(var(--muted-foreground))]"
                    >Due 3pm</span
                  >
                </div>
                <div
                  class="bg-[hsl(var(--card))] rounded-lg p-3 border border-[hsl(var(--border))] flex items-center gap-3"
                >
                  <input
                    type="checkbox"
                    class="w-4 h-4 appearance-none rounded border-[hsl(var(--border))] bg-[hsl(var(--muted))] text-[hsl(var(--primary))] checked:bg-[hsl(var(--primary))] checked:text-[hsl(var(--primary-foreground))]"
                    checked
                  />
                  <span
                    class="text-sm text-[hsl(var(--muted-foreground))] line-through flex-1"
                    >Practice IV insertion technique</span
                  >
                  <i
                    data-lucide="check"
                    class="w-4 h-4 text-[hsl(var(--primary))]"
                  ></i>
                </div>
              </div>
            </div>

            <!-- Calendar -->
            <div class="mb-6">
              <h2
                class="text-sm font-semibold text-[hsl(var(--foreground))] mb-3 flex items-center gap-2"
              >
                <i data-lucide="calendar" class="w-4 h-4"></i>
                Upcoming Schedule
              </h2>
              <div
                class="bg-[hsl(var(--card))] rounded-lg p-3 border border-[hsl(var(--border))] space-y-2"
              >
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-2">
                    <div
                      class="w-2 h-2 bg-[hsl(var(--primary))] rounded-full"
                    ></div>
                    <span class="text-sm text-[hsl(var(--foreground))]"
                      >Clinical Rotation - Pediatrics</span
                    >
                  </div>
                  <span class="text-xs text-[hsl(var(--muted-foreground))]"
                    >Tomorrow 7am</span
                  >
                </div>
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-2">
                    <div
                      class="w-2 h-2 bg-[hsl(var(--primary))] rounded-full"
                    ></div>
                    <span class="text-sm text-[hsl(var(--foreground))]"
                      >NCLEX Study Group</span
                    >
                  </div>
                  <span class="text-xs text-[hsl(var(--muted-foreground))]"
                    >Fri 2pm</span
                  >
                </div>
              </div>
            </div>

            <!-- Reminders -->
            <div class="mb-6">
              <h2
                class="text-sm font-semibold text-[hsl(var(--foreground))] mb-3 flex items-center gap-2"
              >
                <i data-lucide="bell" class="w-4 h-4"></i>
                Reminders
              </h2>
              <div
                class="bg-gradient-to-r from-blue-500/10 to-blue-600/10 rounded-lg p-3 border border-blue-500/20"
              >
                <p class="text-sm text-[hsl(var(--primary))]">
                  💉 Flu shot appointment in 2 days
                </p>
              </div>
            </div>

            <!-- Journal -->
            <div class="mb-6">
              <h2
                class="text-sm font-semibold text-[hsl(var(--foreground))] mb-3 flex items-center gap-2"
              >
                <i data-lucide="book-open" class="w-4 h-4"></i>
                Clinical Journal
              </h2>
              <div
                class="bg-[hsl(var(--card))] rounded-lg p-3 border border-[hsl(var(--border))]"
              >
                <p class="text-xs text-[hsl(var(--muted-foreground))] mb-1">
                  Latest Entry - Today 2:45 PM
                </p>
                <p class="text-sm text-[hsl(var(--foreground))]">
                  Successful first IV insertion! Patient was very
                  understanding...
                </p>
                <button
                  class="text-xs text-[hsl(var(--primary))] hover:text-[hsl(var(--primary))]/80 mt-2"
                >
                  Read more →
                </button>
              </div>
            </div>

            <!-- Skills Progress -->
            <div>
              <h2
                class="text-sm font-semibold text-[hsl(var(--foreground))] mb-3 flex items-center gap-2"
              >
                <i data-lucide="trending-up" class="w-4 h-4"></i>
                Skills Progress
              </h2>
              <div class="space-y-3">
                <div>
                  <div class="flex justify-between items-center mb-1">
                    <span class="text-sm text-[hsl(var(--foreground))]"
                      >Medication Administration</span
                    >
                    <span class="text-xs text-[hsl(var(--muted-foreground))]"
                      >85%</span
                    >
                  </div>
                  <div class="w-full bg-[hsl(var(--muted))] rounded-full h-2">
                    <div
                      class="bg-[hsl(var(--primary))] h-2 rounded-full"
                      style="width: 85%"
                    ></div>
                  </div>
                </div>
                <div>
                  <div class="flex justify-between items-center mb-1">
                    <span class="text-sm text-[hsl(var(--foreground))]"
                      >Patient Assessment</span
                    >
                    <span class="text-xs text-[hsl(var(--muted-foreground))]"
                      >72%</span
                    >
                  </div>
                  <div class="w-full bg-[hsl(var(--muted))] rounded-full h-2">
                    <div
                      class="bg-[hsl(var(--primary))] h-2 rounded-full"
                      style="width: 72%"
                    ></div>
                  </div>
                </div>
                <div>
                  <div class="flex justify-between items-center mb-1">
                    <span class="text-sm text-[hsl(var(--foreground))]"
                      >IV Therapy</span
                    >
                    <span class="text-xs text-[hsl(var(--muted-foreground))]"
                      >45%</span
                    >
                  </div>
                  <div class="w-full bg-[hsl(var(--muted))] rounded-full h-2">
                    <div
                      class="bg-[hsl(var(--primary))] h-2 rounded-full"
                      style="width: 45%"
                    ></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Settings Section -->
        <div
          id="settings-section"
          class="flex-1 flex-col bg-[hsl(var(--background))] hidden overflow-hidden"
        >
          <header
            class="h-14 border-b border-[hsl(var(--border))] flex items-center px-4"
          >
            <i
              data-lucide="settings"
              class="w-5 h-5 text-[hsl(var(--primary))] mr-2"
            ></i>
            <h1 class="text-base font-semibold">Settings</h1>
          </header>

          <div class="flex-1 overflow-y-auto overflow-x-hidden p-4">
            <!-- Profile Section -->
            <div class="mb-6">
              <h2
                class="text-sm font-semibold text-[hsl(var(--foreground))] mb-3 flex items-center gap-2"
              >
                <i data-lucide="user" class="w-4 h-4"></i>
                Profile Information
              </h2>
              <div
                class="bg-[hsl(var(--card))] rounded-lg p-4 border border-[hsl(var(--border))] space-y-4"
              >
                <!-- Profile Picture -->
                <div class="flex items-center gap-4">
                  <div class="w-16 h-16 rounded-full bg-[hsl(var(--primary))] flex items-center justify-center">
                    <span class="text-xl text-[hsl(var(--background))] font-semibold">SM</span>
                  </div>
                  <div class="flex-1">
                    <h3 class="text-base font-semibold text-[hsl(var(--foreground))]">Sofia Martinez</h3>
                    <p class="text-sm text-[hsl(var(--muted-foreground))]">2nd Year Nursing Student</p>
                    <button class="text-xs text-[hsl(var(--primary))] hover:text-[hsl(var(--primary))]/80 mt-1">
                      Change Photo
                    </button>
                  </div>
                </div>

                <!-- Form Fields -->
                <div class="space-y-3">
                  <div>
                    <label class="text-sm font-medium text-[hsl(var(--foreground))] block mb-1">
                      Display Name
                    </label>
                    <input
                      type="text"
                      value="Sofia Martinez"
                      class="w-full bg-[hsl(var(--background))] border border-[hsl(var(--border))] rounded-lg px-3 py-2 text-sm text-[hsl(var(--foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))] focus:border-transparent"
                    >
                  </div>
                  <div>
                    <label class="text-sm font-medium text-[hsl(var(--foreground))] block mb-1">
                      Program & Year
                    </label>
                    <select class="w-full bg-[hsl(var(--background))] border border-[hsl(var(--border))] rounded-lg px-3 py-2 text-sm text-[hsl(var(--foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))] focus:border-transparent">
                      <option>2nd Year Nursing Student</option>
                      <option>1st Year Nursing Student</option>
                      <option>3rd Year Nursing Student</option>
                      <option>4th Year Nursing Student</option>
                      <option>Recent Graduate</option>
                      <option>Registered Nurse</option>
                    </select>
                  </div>
                  <div>
                    <label class="text-sm font-medium text-[hsl(var(--foreground))] block mb-1">
                      School/Institution
                    </label>
                    <input
                      type="text"
                      value="University of California, San Francisco"
                      class="w-full bg-[hsl(var(--background))] border border-[hsl(var(--border))] rounded-lg px-3 py-2 text-sm text-[hsl(var(--foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))] focus:border-transparent"
                    >
                  </div>
                </div>
              </div>
            </div>

            <!-- Verification Section -->
            <div class="mb-6">
              <h2
                class="text-sm font-semibold text-[hsl(var(--foreground))] mb-3 flex items-center gap-2"
              >
                <i data-lucide="shield-check" class="w-4 h-4"></i>
                Verification Status
              </h2>
              <div
                class="bg-[hsl(var(--card))] rounded-lg p-4 border border-[hsl(var(--border))] space-y-4"
              >
                <!-- Current Status -->
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-3">
                    <div class="w-8 h-8 rounded-full bg-[hsl(var(--primary))]/20 flex items-center justify-center">
                      <i data-lucide="user-check" class="w-4 h-4 text-[hsl(var(--primary))]"></i>
                    </div>
                    <div>
                      <div class="text-sm font-medium text-[hsl(var(--foreground))]">Student Verified</div>
                      <div class="text-xs text-[hsl(var(--muted-foreground))]">Verified on March 15, 2025</div>
                    </div>
                  </div>
                  <span class="text-xs bg-[hsl(var(--primary))]/20 text-[hsl(var(--primary))] px-2 py-1 rounded">
                    Active
                  </span>
                </div>

                <!-- RN Verification Option -->
                <div class="border-t border-[hsl(var(--border))] pt-4">
                  <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center gap-3">
                      <div class="w-8 h-8 rounded-full bg-[hsl(var(--muted))] flex items-center justify-center">
                        <i data-lucide="graduation-cap" class="w-4 h-4 text-[hsl(var(--muted-foreground))]"></i>
                      </div>
                      <div>
                        <div class="text-sm font-medium text-[hsl(var(--foreground))]">RN License Verification</div>
                        <div class="text-xs text-[hsl(var(--muted-foreground))]">Unlock paid mentoring opportunities</div>
                      </div>
                    </div>
                    <span class="text-xs bg-[hsl(var(--muted))] text-[hsl(var(--foreground))] px-2 py-1 rounded">
                      Available after graduation
                    </span>
                  </div>
                  <p class="text-xs text-[hsl(var(--muted-foreground))] mb-3">
                    Once you pass the NCLEX and obtain your RN license, you can verify your credentials to start earning money by mentoring students.
                  </p>
                  <button class="w-full bg-[hsl(var(--muted))] text-[hsl(var(--muted-foreground))] px-3 py-2 rounded-lg text-sm font-medium cursor-not-allowed">
                    Apply for RN Verification
                  </button>
                </div>
              </div>
            </div>

            <!-- Notification Preferences -->
            <div class="mb-6">
              <h2
                class="text-sm font-semibold text-[hsl(var(--foreground))] mb-3 flex items-center gap-2"
              >
                <i data-lucide="bell" class="w-4 h-4"></i>
                Notification Preferences
              </h2>
              <div
                class="bg-[hsl(var(--card))] rounded-lg p-4 border border-[hsl(var(--border))] space-y-3"
              >
                <div class="flex items-center justify-between">
                  <div>
                    <div class="text-sm font-medium text-[hsl(var(--foreground))]">Thread Replies</div>
                    <div class="text-xs text-[hsl(var(--muted-foreground))]">Get notified when someone replies to your posts</div>
                  </div>
                  <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" class="sr-only peer" checked>
                    <div class="w-11 h-6 bg-[hsl(var(--muted))] peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[hsl(var(--primary))]"></div>
                  </label>
                </div>
                <div class="flex items-center justify-between">
                  <div>
                    <div class="text-sm font-medium text-[hsl(var(--foreground))]">DM Responses</div>
                    <div class="text-xs text-[hsl(var(--muted-foreground))]">Get notified when RNs answer your paid questions</div>
                  </div>
                  <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" class="sr-only peer" checked>
                    <div class="w-11 h-6 bg-[hsl(var(--muted))] peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[hsl(var(--primary))]"></div>
                  </label>
                </div>
                <div class="flex items-center justify-between">
                  <div>
                    <div class="text-sm font-medium text-[hsl(var(--foreground))]">Livestream Alerts</div>
                    <div class="text-xs text-[hsl(var(--muted-foreground))]">Get notified when followed RNs start streaming</div>
                  </div>
                  <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" class="sr-only peer">
                    <div class="w-11 h-6 bg-[hsl(var(--muted))] peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[hsl(var(--primary))]"></div>
                  </label>
                </div>
              </div>
            </div>

            <!-- Save Button -->
            <div class="flex gap-3">
              <button class="flex-1 bg-[hsl(var(--primary))] hover:bg-[hsl(var(--primary))]/80 text-[hsl(var(--primary-foreground))] px-4 py-2 rounded-lg text-sm font-medium">
                Save Changes
              </button>
              <button class="flex-1 bg-[hsl(var(--muted))] hover:bg-[hsl(var(--accent))] text-[hsl(var(--foreground))] px-4 py-2 rounded-lg text-sm font-medium">
                Cancel
              </button>
            </div>
          </div>
        </div>

        <!-- Hall of Excellence Section -->
        <div
          id="hall-section"
          class="flex-1 flex-col bg-[hsl(var(--background))] hidden overflow-hidden"
        >
          <header
            class="h-14 border-b border-[hsl(var(--border))] flex items-center px-4"
          >
            <i
              data-lucide="trophy"
              class="w-5 h-5 text-[hsl(var(--primary))] mr-2"
            ></i>
            <h1 class="text-base font-semibold">Hall of Excellence</h1>
          </header>

          <div class="flex-1 overflow-y-auto overflow-x-hidden p-4">
            <!-- Top Mentors -->
            <div class="mb-6">
              <h2
                class="text-sm font-semibold text-[hsl(var(--foreground))] mb-3 flex items-center gap-2"
              >
                <i
                  data-lucide="star"
                  class="w-4 h-4 text-[hsl(var(--primary))]"
                ></i>
                Top Mentors This Month
              </h2>
              <div class="space-y-3">
                <div
                  class="bg-[hsl(var(--card))] rounded-lg p-4 border border-[hsl(var(--primary))]/30"
                >
                  <div class="flex items-center gap-3">
                    <div
                      class="w-12 h-12 rounded-full bg-[hsl(var(--primary))] flex items-center justify-center"
                    >
                      <i
                        data-lucide="crown"
                        class="w-6 h-6 text-[hsl(var(--primary-foreground))]"
                      ></i>
                    </div>
                    <div class="flex-1">
                      <div class="flex items-center gap-2">
                        <span
                          class="text-lg font-semibold text-[hsl(var(--foreground))]"
                          >RN Emma Rodriguez</span
                        >
                        <span
                          class="text-xs bg-[hsl(var(--primary))]/20 text-[hsl(var(--primary))] px-2 py-1 rounded"
                          >ICU • 8yr exp</span
                        >
                      </div>
                      <div class="flex items-center gap-4 mt-1">
                        <span class="text-sm text-[hsl(var(--foreground))]"
                          >567 questions answered</span
                        >
                        <span
                          class="text-sm text-[hsl(var(--muted-foreground))]"
                          >$2,340 earned</span
                        >
                        <span class="text-sm text-[hsl(var(--primary))]"
                          >4.9★ rating</span
                        >
                      </div>
                    </div>
                  </div>
                </div>

                <div
                  class="bg-[hsl(var(--card))] rounded-lg p-4 border border-[hsl(var(--border))]"
                >
                  <div class="flex items-center gap-3">
                    <div
                      class="w-10 h-10 rounded-full bg-[hsl(var(--muted))] flex items-center justify-center"
                    >
                      <span class="text-[hsl(var(--foreground))] font-bold"
                        >2</span
                      >
                    </div>
                    <div class="flex-1">
                      <div class="flex items-center gap-2">
                        <span
                          class="text-base font-semibold text-[hsl(var(--foreground))]"
                          >RN Marcus Johnson</span
                        >
                        <span
                          class="text-xs bg-[hsl(var(--primary))]/20 text-[hsl(var(--primary))] px-2 py-1 rounded"
                          >ER • 5yr exp</span
                        >
                      </div>
                      <div class="flex items-center gap-4 mt-1">
                        <span
                          class="text-sm text-[hsl(var(--muted-foreground))]"
                          >423 questions answered</span
                        >
                        <span
                          class="text-sm text-[hsl(var(--muted-foreground))]"
                          >$1,890 earned</span
                        >
                        <span class="text-sm text-[hsl(var(--primary))]"
                          >4.8★ rating</span
                        >
                      </div>
                    </div>
                  </div>
                </div>

                <div
                  class="bg-[hsl(var(--card))] rounded-lg p-4 border border-[hsl(var(--border))]"
                >
                  <div class="flex items-center gap-3">
                    <div
                      class="w-10 h-10 rounded-full bg-[hsl(var(--muted))] flex items-center justify-center"
                    >
                      <span class="text-[hsl(var(--foreground))] font-bold"
                        >3</span
                      >
                    </div>
                    <div class="flex-1">
                      <div class="flex items-center gap-2">
                        <span
                          class="text-base font-semibold text-[hsl(var(--foreground))]"
                          >RN Sarah Chen</span
                        >
                        <span
                          class="text-xs bg-[hsl(var(--primary))]/20 text-[hsl(var(--primary))] px-2 py-1 rounded"
                          >NICU • 12yr exp</span
                        >
                      </div>
                      <div class="flex items-center gap-4 mt-1">
                        <span
                          class="text-sm text-[hsl(var(--muted-foreground))]"
                          >389 questions answered</span
                        >
                        <span
                          class="text-sm text-[hsl(var(--muted-foreground))]"
                          >$1,556 earned</span
                        >
                        <span class="text-sm text-[hsl(var(--primary))]"
                          >4.9★ rating</span
                        >
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Rising Stars -->
            <div class="mb-6">
              <h2
                class="text-sm font-semibold text-[hsl(var(--foreground))] mb-3 flex items-center gap-2"
              >
                <i
                  data-lucide="trending-up"
                  class="w-4 h-4 text-[hsl(var(--primary))]"
                ></i>
                Rising Student Stars
              </h2>
              <div class="space-y-2">
                <div
                  class="bg-[hsl(var(--card))] rounded-lg p-3 border border-[hsl(var(--border))] flex items-center gap-3"
                >
                  <div
                    class="w-8 h-8 rounded-full bg-[hsl(var(--primary))] flex items-center justify-center"
                  >
                    <span
                      class="text-xs text-[hsl(var(--border))] font-semibold"
                      >SM</span
                    >
                  </div>
                  <div class="flex-1">
                    <span
                      class="text-sm font-medium text-[hsl(var(--foreground))]"
                      >Sofia Martinez</span
                    >
                    <div class="flex items-center gap-3 mt-1">
                      <span class="text-xs text-[hsl(var(--muted-foreground))]"
                        >2nd Year Student</span
                      >
                      <span class="text-xs text-[hsl(var(--muted-foreground))]"
                        >89% NCLEX prep score</span
                      >
                    </div>
                  </div>
                  <div
                    class="text-xs bg-[hsl(var(--primary))]/20 text-[hsl(var(--primary))] px-2 py-1 rounded"
                  >
                    Most Improved
                  </div>
                </div>

                <div
                  class="bg-[hsl(var(--card))] rounded-lg p-3 border border-[hsl(var(--border))] flex items-center gap-3"
                >
                  <div
                    class="w-8 h-8 rounded-full bg-[hsl(var(--muted))] flex items-center justify-center"
                  >
                    <span
                      class="text-xs text-[hsl(var(--foreground))] font-semibold"
                      >LT</span
                    >
                  </div>
                  <div class="flex-1">
                    <span
                      class="text-sm font-medium text-[hsl(var(--foreground))]"
                      >Lisa Thompson</span
                    >
                    <div class="flex items-center gap-3 mt-1">
                      <span class="text-xs text-[hsl(var(--muted-foreground))]"
                        >4th Year Student</span
                      >
                      <span class="text-xs text-[hsl(var(--muted-foreground))]"
                        >Perfect clinical reviews</span
                      >
                    </div>
                  </div>
                  <div
                    class="text-xs bg-[hsl(var(--primary))]/20 text-[hsl(var(--muted-foreground))] px-2 py-1 rounded"
                  >
                    Clinical Excellence
                  </div>
                </div>
              </div>
            </div>

            <!-- Achievement Badges -->
            <div>
              <h2
                class="text-sm font-semibold text-[hsl(var(--foreground))] mb-3 flex items-center gap-2"
              >
                <i
                  data-lucide="award"
                  class="w-4 h-4 text-[hsl(var(--primary))]"
                ></i>
                Achievement Badges
              </h2>
              <div class="grid grid-cols-2 gap-3">
                <div
                  class="bg-[hsl(var(--card))] rounded-lg p-3 border border-[hsl(var(--border))] text-center"
                >
                  <i
                    data-lucide="heart-pulse"
                    class="w-6 h-6 text-[hsl(var(--primary))] mx-auto mb-2"
                  ></i>
                  <div
                    class="text-xs font-medium text-[hsl(var(--foreground))]"
                  >
                    Lifesaver
                  </div>
                  <div class="text-xs text-[hsl(var(--muted-foreground))]">
                    Save 100+ lives
                  </div>
                </div>
                <div
                  class="bg-[hsl(var(--card))] rounded-lg p-3 border border-[hsl(var(--border))] text-center"
                >
                  <i
                    data-lucide="graduation-cap"
                    class="w-6 h-6 text-[hsl(var(--primary))] mx-auto mb-2"
                  ></i>
                  <div
                    class="text-xs font-medium text-[hsl(var(--foreground))]"
                  >
                    Mentor
                  </div>
                  <div class="text-xs text-[hsl(var(--muted-foreground))]">
                    Guide 50+ students
                  </div>
                </div>
                <div
                  class="bg-[hsl(var(--card))] rounded-lg p-3 border border-[hsl(var(--border))] text-center"
                >
                  <i
                    data-lucide="zap"
                    class="w-6 h-6 text-[hsl(var(--primary))] mx-auto mb-2"
                  ></i>
                  <div
                    class="text-xs font-medium text-[hsl(var(--foreground))]"
                  >
                    Quick Response
                  </div>
                  <div class="text-xs text-[hsl(var(--muted-foreground))]">
                    Answer in &lt;5min
                  </div>
                </div>
                <div
                  class="bg-[hsl(var(--card))] rounded-lg p-3 border border-[hsl(var(--border))] text-center"
                >
                  <i
                    data-lucide="shield-check"
                    class="w-6 h-6 text-[hsl(var(--primary))] mx-auto mb-2"
                  ></i>
                  <div
                    class="text-xs font-medium text-[hsl(var(--foreground))]"
                  >
                    Safety First
                  </div>
                  <div class="text-xs text-[hsl(var(--muted-foreground))]">
                    Zero incidents
                  </div>
                </div>
              </div>
            </div>

            <!-- Authentication Section -->
            <div class="mb-6">
              <h2
                class="text-sm font-semibold text-[hsl(var(--foreground))] mb-3 flex items-center gap-2"
              >
                <i data-lucide="key" class="w-4 h-4"></i>
                Account Access
              </h2>
              <div
                class="bg-[hsl(var(--card))] rounded-lg p-4 border border-[hsl(var(--border))] space-y-3"
              >
                <p class="text-sm text-[hsl(var(--muted-foreground))]">
                  Manage your account access and authentication settings.
                </p>
                <div class="flex gap-3">
                  <button
                    onclick="showLogin()"
                    class="flex-1 bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] py-2 px-4 rounded-lg font-medium hover:bg-[hsl(var(--primary))]/90 transition-colors flex items-center justify-center gap-2"
                  >
                    <i data-lucide="log-in" class="w-4 h-4"></i>
                    Sign In
                  </button>
                  <button
                    onclick="showSignup()"
                    class="flex-1 bg-[hsl(var(--secondary))] text-[hsl(var(--secondary-foreground))] py-2 px-4 rounded-lg font-medium hover:bg-[hsl(var(--secondary))]/90 transition-colors flex items-center justify-center gap-2"
                  >
                    <i data-lucide="user-plus" class="w-4 h-4"></i>
                    Sign Up
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Floating Action Button -->
    <button id="fab-button" class="fab" onclick="openNewPostModal()" title="Create new post">
      <i data-lucide="plus" class="w-6 h-6 text-[hsl(var(--background))]"></i>
    </button>

    <!-- Notification Overlay -->
    <div id="notification-overlay" class="notification-overlay" onclick="closeNotifications()"></div>

    <!-- Notification Panel -->
    <div id="notification-panel" class="notification-panel">
      <!-- Notification Header -->
      <div class="p-4 border-b border-[hsl(var(--border))] flex items-center justify-between">
        <h2 class="text-lg font-semibold text-[hsl(var(--foreground))]">Notifications</h2>
        <button onclick="closeNotifications()" class="text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))]">
          <i data-lucide="x" class="w-5 h-5"></i>
        </button>
      </div>

      <!-- Notification Tabs -->
      <div class="p-4 border-b border-[hsl(var(--border))]">
        <div class="flex gap-2">
          <button class="px-3 py-1.5 bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] rounded-lg text-sm font-medium">
            All (3)
          </button>
          <button class="px-3 py-1.5 bg-[hsl(var(--muted))] text-[hsl(var(--foreground))] rounded-lg text-sm font-medium">
            Replies
          </button>
          <button class="px-3 py-1.5 bg-[hsl(var(--muted))] text-[hsl(var(--foreground))] rounded-lg text-sm font-medium">
            DMs
          </button>
        </div>
      </div>

      <!-- Notifications List -->
      <div class="flex-1 overflow-y-auto">
        <!-- New Reply Notification -->
        <div class="p-4 border-b border-[hsl(var(--border))] hover:bg-[hsl(var(--card))]/50 cursor-pointer">
          <div class="flex gap-3">
            <div class="w-8 h-8 rounded-full bg-[hsl(var(--primary))] flex items-center justify-center flex-shrink-0">
              <span class="text-xs text-[hsl(var(--background))] font-semibold">E</span>
            </div>
            <div class="flex-1">
              <div class="flex items-center gap-2 mb-1">
                <span class="text-sm font-medium text-[hsl(var(--foreground))]">RN Emma</span>
                <span class="text-xs text-[hsl(var(--muted-foreground))]">replied to your post</span>
                <div class="w-2 h-2 bg-[hsl(var(--primary))] rounded-full ml-auto"></div>
              </div>
              <p class="text-sm text-[hsl(var(--muted-foreground))] mb-1">
                "Great question! For pediatric dosages, always remember to..."
              </p>
              <span class="text-xs text-[hsl(var(--muted-foreground))]">2 minutes ago</span>
            </div>
          </div>
        </div>

        <!-- DM Notification -->
        <div class="p-4 border-b border-[hsl(var(--border))] hover:bg-[hsl(var(--card))]/50 cursor-pointer">
          <div class="flex gap-3">
            <div class="w-8 h-8 rounded-full bg-[hsl(var(--muted))] flex items-center justify-center flex-shrink-0">
              <span class="text-xs text-[hsl(var(--foreground))] font-semibold">M</span>
            </div>
            <div class="flex-1">
              <div class="flex items-center gap-2 mb-1">
                <span class="text-sm font-medium text-[hsl(var(--foreground))]">RN Marcus</span>
                <span class="text-xs text-[hsl(var(--muted-foreground))]">answered your paid question</span>
                <div class="w-2 h-2 bg-[hsl(var(--primary))] rounded-full ml-auto"></div>
              </div>
              <p class="text-sm text-[hsl(var(--muted-foreground))] mb-1">
                "The correct drip rate calculation is..."
              </p>
              <div class="flex items-center gap-2">
                <span class="text-xs text-[hsl(var(--muted-foreground))]">15 minutes ago</span>
                <span class="text-xs bg-[hsl(var(--primary))]/20 text-[hsl(var(--primary))] px-1.5 rounded">$2 Paid</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Livestream Notification -->
        <div class="p-4 border-b border-[hsl(var(--border))] hover:bg-[hsl(var(--card))]/50 cursor-pointer">
          <div class="flex gap-3">
            <div class="w-8 h-8 rounded-full bg-[hsl(var(--primary))] flex items-center justify-center flex-shrink-0">
              <i data-lucide="radio" class="w-4 h-4 text-[hsl(var(--background))]"></i>
            </div>
            <div class="flex-1">
              <div class="flex items-center gap-2 mb-1">
                <span class="text-sm font-medium text-[hsl(var(--foreground))]">RN Sarah</span>
                <span class="text-xs text-[hsl(var(--muted-foreground))]">started a livestream</span>
                <div class="w-2 h-2 bg-[hsl(var(--primary))] rounded-full ml-auto"></div>
              </div>
              <p class="text-sm text-[hsl(var(--muted-foreground))] mb-1">
                "NCLEX Review: Cardiac Medications - Join now!"
              </p>
              <div class="flex items-center gap-2">
                <span class="text-xs text-[hsl(var(--muted-foreground))]">1 hour ago</span>
                <span class="text-xs bg-red-500/20 text-red-400 px-1.5 rounded flex items-center gap-1">
                  <div class="w-1.5 h-1.5 bg-red-400 rounded-full animate-pulse"></div>
                  LIVE
                </span>
              </div>
            </div>
          </div>
        </div>

        <!-- Older notifications -->
        <div class="p-4 text-center">
          <span class="text-xs text-[hsl(var(--muted-foreground))]">You're all caught up! 🎉</span>
        </div>
      </div>

      <!-- Notification Actions -->
      <div class="p-4 border-t border-[hsl(var(--border))]">
        <div class="flex gap-2">
          <button class="flex-1 bg-[hsl(var(--muted))] hover:bg-[hsl(var(--accent))] text-[hsl(var(--foreground))] px-3 py-2 rounded-lg text-sm font-medium">
            Mark All Read
          </button>
          <button class="flex-1 bg-[hsl(var(--primary))] hover:bg-[hsl(var(--primary))]/80 text-[hsl(var(--primary-foreground))] px-3 py-2 rounded-lg text-sm font-medium">
            Settings
          </button>
        </div>
      </div>
    </div>

    <!-- Global Search Modal -->
    <div id="search-modal" class="search-modal" onclick="closeSearch()">
      <div class="search-container" onclick="event.stopPropagation()">
        <!-- Search Input -->
        <div class="search-input-container">
          <i data-lucide="search" class="w-5 h-5 text-[hsl(var(--muted-foreground))]"></i>
          <input 
            type="text" 
            id="search-input"
            class="search-input" 
            placeholder="Search threads, users, and topics..."
            autocomplete="off"
          >
          <button onclick="closeSearch()" class="text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))] ml-2">
            <i data-lucide="x" class="w-5 h-5"></i>
          </button>
        </div>

        <!-- Search Results -->
        <div id="search-results" class="search-results">
          <!-- Recent Searches -->
          <div class="search-section">
            <div class="search-section-title">Recent Searches</div>
            <div class="search-result-item" onclick="performSearch('NCLEX dosage')">
              <div class="flex items-center gap-3">
                <i data-lucide="clock" class="w-4 h-4 text-[hsl(var(--muted-foreground))]"></i>
                <span class="text-sm text-[hsl(var(--foreground))]">NCLEX dosage calculations</span>
              </div>
            </div>
            <div class="search-result-item" onclick="performSearch('IV therapy')">
              <div class="flex items-center gap-3">
                <i data-lucide="clock" class="w-4 h-4 text-[hsl(var(--muted-foreground))]"></i>
                <span class="text-sm text-[hsl(var(--foreground))]">IV therapy tips</span>
              </div>
            </div>
          </div>

          <!-- Popular Topics -->
          <div class="search-section">
            <div class="search-section-title">Popular Topics</div>
            <div class="search-result-item" onclick="performSearch('pediatric nursing')">
              <div class="flex items-center gap-3">
                <i data-lucide="trending-up" class="w-4 h-4 text-[hsl(var(--primary))]"></i>
                <span class="text-sm text-[hsl(var(--foreground))]">Pediatric Nursing</span>
                <span class="text-xs text-[hsl(var(--muted-foreground))] ml-auto">247 discussions</span>
              </div>
            </div>
            <div class="search-result-item" onclick="performSearch('medication safety')">
              <div class="flex items-center gap-3">
                <i data-lucide="trending-up" class="w-4 h-4 text-[hsl(var(--primary))]"></i>
                <span class="text-sm text-[hsl(var(--foreground))]">Medication Safety</span>
                <span class="text-xs text-[hsl(var(--muted-foreground))] ml-auto">189 discussions</span>
              </div>
            </div>
            <div class="search-result-item" onclick="performSearch('clinical skills')">
              <div class="flex items-center gap-3">
                <i data-lucide="trending-up" class="w-4 h-4 text-[hsl(var(--primary))]"></i>
                <span class="text-sm text-[hsl(var(--foreground))]">Clinical Skills</span>
                <span class="text-xs text-[hsl(var(--muted-foreground))] ml-auto">156 discussions</span>
              </div>
            </div>
          </div>

          <!-- Top RNs -->
          <div class="search-section">
            <div class="search-section-title">Top Mentors</div>
            <div class="search-result-item" onclick="viewProfile('RN Emma')">
              <div class="flex items-center gap-3">
                <div class="w-6 h-6 rounded-full bg-[hsl(var(--primary))] flex items-center justify-center">
                  <span class="text-xs text-[hsl(var(--background))] font-semibold">E</span>
                </div>
                <div class="flex-1">
                  <div class="text-sm font-medium text-[hsl(var(--foreground))]">RN Emma Rodriguez</div>
                  <div class="text-xs text-[hsl(var(--muted-foreground))]">ICU • 8+ years • 4.9★</div>
                </div>
              </div>
            </div>
            <div class="search-result-item" onclick="viewProfile('RN Marcus')">
              <div class="flex items-center gap-3">
                <div class="w-6 h-6 rounded-full bg-[hsl(var(--muted))] flex items-center justify-center">
                  <span class="text-xs text-[hsl(var(--foreground))] font-semibold">M</span>
                </div>
                <div class="flex-1">
                  <div class="text-sm font-medium text-[hsl(var(--foreground))]">RN Marcus Johnson</div>
                  <div class="text-xs text-[hsl(var(--muted-foreground))]">ER • 5+ years • 4.8★</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Search Tips -->
        <div class="p-4 bg-[hsl(var(--muted))]/30 text-center">
          <span class="text-xs text-[hsl(var(--muted-foreground))]">
            Press <kbd class="px-1.5 py-0.5 bg-[hsl(var(--accent))] rounded text-xs">Ctrl+K</kbd> to search from anywhere
          </span>
        </div>
      </div>
    </div>

    <!-- Onboarding Flow -->
    <div id="onboarding-overlay" class="onboarding-overlay">
      <div class="onboarding-card">
        <div id="onboarding-step-1" class="onboarding-step">
          <div class="onboarding-header">
            <h2 class="text-xl font-bold mb-2">Welcome to NextRN! 🏥</h2>
            <p class="text-sm opacity-90">Your nursing journey starts here</p>
          </div>
          <div class="onboarding-content">
            <div class="onboarding-progress">
              <div class="progress-dot active"></div>
              <div class="progress-dot"></div>
              <div class="progress-dot"></div>
              <div class="progress-dot"></div>
              <div class="progress-dot"></div>
            </div>
            <div class="onboarding-illustration">
              <i data-lucide="heart" class="w-8 h-8 text-[hsl(var(--primary))]"></i>
            </div>
            <h3 class="text-lg font-semibold text-[hsl(var(--foreground))] mb-3">
              Connect with Expert RNs
            </h3>
            <p class="text-sm text-[hsl(var(--muted-foreground))] mb-6">
              Get real-time support from verified registered nurses who understand your challenges and can guide your learning journey.
            </p>
            <div class="flex gap-3">
              <button onclick="skipOnboarding()" class="flex-1 px-4 py-2 text-sm text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))]">
                Skip Tour
              </button>
              <button onclick="nextOnboardingStep()" class="flex-1 bg-[hsl(var(--primary))] hover:bg-[hsl(var(--primary))]/80 text-[hsl(var(--primary-foreground))] px-4 py-2 rounded-lg text-sm font-medium">
                Next
              </button>
            </div>
          </div>
        </div>

        <div id="onboarding-step-2" class="onboarding-step hidden">
          <div class="onboarding-header">
            <h2 class="text-xl font-bold mb-2">Hotel Metaphor 🏨</h2>
            <p class="text-sm opacity-90">Navigate like you're in a professional hotel</p>
          </div>
          <div class="onboarding-content">
            <div class="onboarding-progress">
              <div class="progress-dot completed"></div>
              <div class="progress-dot active"></div>
              <div class="progress-dot"></div>
              <div class="progress-dot"></div>
              <div class="progress-dot"></div>
            </div>
            <div class="onboarding-illustration">
              <i data-lucide="building" class="w-8 h-8 text-[hsl(var(--primary))]"></i>
            </div>
            <h3 class="text-lg font-semibold text-[hsl(var(--foreground))] mb-3">
              Different Spaces for Different Needs
            </h3>
            <div class="text-left space-y-2 mb-6">
              <div class="flex items-center gap-3">
                <i data-lucide="home" class="w-4 h-4 text-[hsl(var(--primary))]"></i>
                <span class="text-sm text-[hsl(var(--foreground))]"><strong>Lobby:</strong> Open discussions</span>
              </div>
              <div class="flex items-center gap-3">
                <i data-lucide="message-circle" class="w-4 h-4 text-[hsl(var(--primary))]"></i>
                <span class="text-sm text-[hsl(var(--foreground))]"><strong>Lounge:</strong> Private chats</span>
              </div>
              <div class="flex items-center gap-3">
                <i data-lucide="radio" class="w-4 h-4 text-[hsl(var(--primary))]"></i>
                <span class="text-sm text-[hsl(var(--foreground))]"><strong>Stage:</strong> Live learning</span>
              </div>
              <div class="flex items-center gap-3">
                <i data-lucide="door-closed" class="w-4 h-4 text-[hsl(var(--primary))]"></i>
                <span class="text-sm text-[hsl(var(--foreground))]"><strong>Guest Room:</strong> Your space</span>
              </div>
            </div>
            <div class="flex gap-3">
              <button onclick="prevOnboardingStep()" class="flex-1 bg-[hsl(var(--muted))] hover:bg-[hsl(var(--accent))] text-[hsl(var(--foreground))] px-4 py-2 rounded-lg text-sm font-medium">
                Back
              </button>
              <button onclick="nextOnboardingStep()" class="flex-1 bg-[hsl(var(--primary))] hover:bg-[hsl(var(--primary))]/80 text-[hsl(var(--primary-foreground))] px-4 py-2 rounded-lg text-sm font-medium">
                Next
              </button>
            </div>
          </div>
        </div>

        <div id="onboarding-step-3" class="onboarding-step hidden">
          <div class="onboarding-header">
            <h2 class="text-xl font-bold mb-2">Paid Support 💰</h2>
            <p class="text-sm opacity-90">Get expert help when you need it most</p>
          </div>
          <div class="onboarding-content">
            <div class="onboarding-progress">
              <div class="progress-dot completed"></div>
              <div class="progress-dot completed"></div>
              <div class="progress-dot active"></div>
              <div class="progress-dot"></div>
              <div class="progress-dot"></div>
            </div>
            <div class="onboarding-illustration">
              <i data-lucide="dollar-sign" class="w-8 h-8 text-[hsl(var(--primary))]"></i>
            </div>
            <h3 class="text-lg font-semibold text-[hsl(var(--foreground))] mb-3">
              Quality Guaranteed Answers
            </h3>
            <div class="text-left space-y-3 mb-6">
              <div class="flex items-center gap-3">
                <div class="w-8 h-8 rounded-full bg-[hsl(var(--primary))]/20 flex items-center justify-center">
                  <span class="text-xs font-bold text-[hsl(var(--primary))]">$2</span>
                </div>
                <span class="text-sm text-[hsl(var(--foreground))]">Direct questions to verified RNs</span>
              </div>
              <div class="flex items-center gap-3">
                <div class="w-8 h-8 rounded-full bg-[hsl(var(--primary))]/20 flex items-center justify-center">
                  <span class="text-xs font-bold text-[hsl(var(--primary))]">$1</span>
                </div>
                <span class="text-sm text-[hsl(var(--foreground))]">Super Chat in livestreams</span>
              </div>
              <div class="flex items-center gap-3">
                <i data-lucide="clock" class="w-4 h-4 text-[hsl(var(--primary))]"></i>
                <span class="text-sm text-[hsl(var(--foreground))]">Fast, professional responses</span>
              </div>
            </div>
            <div class="flex gap-3">
              <button onclick="prevOnboardingStep()" class="flex-1 bg-[hsl(var(--muted))] hover:bg-[hsl(var(--accent))] text-[hsl(var(--foreground))] px-4 py-2 rounded-lg text-sm font-medium">
                Back
              </button>
              <button onclick="nextOnboardingStep()" class="flex-1 bg-[hsl(var(--primary))] hover:bg-[hsl(var(--primary))]/80 text-[hsl(var(--primary-foreground))] px-4 py-2 rounded-lg text-sm font-medium">
                Next
              </button>
            </div>
          </div>
        </div>

        <div id="onboarding-step-4" class="onboarding-step hidden">
          <div class="onboarding-header">
            <h2 class="text-xl font-bold mb-2">Study Tools 📚</h2>
            <p class="text-sm opacity-90">Track your progress and ace the NCLEX</p>
          </div>
          <div class="onboarding-content">
            <div class="onboarding-progress">
              <div class="progress-dot completed"></div>
              <div class="progress-dot completed"></div>
              <div class="progress-dot completed"></div>
              <div class="progress-dot active"></div>
              <div class="progress-dot"></div>
            </div>
            <div class="onboarding-illustration">
              <i data-lucide="brain" class="w-8 h-8 text-[hsl(var(--primary))]"></i>
            </div>
            <h3 class="text-lg font-semibold text-[hsl(var(--foreground))] mb-3">
              Your Personal Study Suite
            </h3>
            <div class="text-left space-y-2 mb-6">
              <div class="flex items-center gap-3">
                <i data-lucide="timer" class="w-4 h-4 text-[hsl(var(--primary))]"></i>
                <span class="text-sm text-[hsl(var(--foreground))]">Pomodoro study timer</span>
              </div>
              <div class="flex items-center gap-3">
                <i data-lucide="clipboard-check" class="w-4 h-4 text-[hsl(var(--primary))]"></i>
                <span class="text-sm text-[hsl(var(--foreground))]">Clinical hours tracker</span>
              </div>
              <div class="flex items-center gap-3">
                <i data-lucide="brain" class="w-4 h-4 text-[hsl(var(--primary))]"></i>
                <span class="text-sm text-[hsl(var(--foreground))]">NCLEX practice questions</span>
              </div>
              <div class="flex items-center gap-3">
                <i data-lucide="trending-up" class="w-4 h-4 text-[hsl(var(--primary))]"></i>
                <span class="text-sm text-[hsl(var(--foreground))]">Skills progress tracking</span>
              </div>
            </div>
            <div class="flex gap-3">
              <button onclick="prevOnboardingStep()" class="flex-1 bg-[hsl(var(--muted))] hover:bg-[hsl(var(--accent))] text-[hsl(var(--foreground))] px-4 py-2 rounded-lg text-sm font-medium">
                Back
              </button>
              <button onclick="nextOnboardingStep()" class="flex-1 bg-[hsl(var(--primary))] hover:bg-[hsl(var(--primary))]/80 text-[hsl(var(--primary-foreground))] px-4 py-2 rounded-lg text-sm font-medium">
                Next
              </button>
            </div>
          </div>
        </div>

        <div id="onboarding-step-5" class="onboarding-step hidden">
          <div class="onboarding-header">
            <h2 class="text-xl font-bold mb-2">You're All Set! 🎉</h2>
            <p class="text-sm opacity-90">Ready to start your nursing journey</p>
          </div>
          <div class="onboarding-content">
            <div class="onboarding-progress">
              <div class="progress-dot completed"></div>
              <div class="progress-dot completed"></div>
              <div class="progress-dot completed"></div>
              <div class="progress-dot completed"></div>
              <div class="progress-dot active"></div>
            </div>
            <div class="onboarding-illustration">
              <i data-lucide="sparkles" class="w-8 h-8 text-[hsl(var(--primary))]"></i>
            </div>
            <h3 class="text-lg font-semibold text-[hsl(var(--foreground))] mb-3">
              Welcome to the NextRN Community!
            </h3>
            <p class="text-sm text-[hsl(var(--muted-foreground))] mb-6">
              You now have access to expert nursing support, study tools, and a community of learners. Use <kbd class="px-1.5 py-0.5 bg-[hsl(var(--accent))] rounded text-xs">Ctrl+K</kbd> to search anytime!
            </p>
            <div class="flex gap-3">
              <button onclick="prevOnboardingStep()" class="flex-1 bg-[hsl(var(--muted))] hover:bg-[hsl(var(--accent))] text-[hsl(var(--foreground))] px-4 py-2 rounded-lg text-sm font-medium">
                Back
              </button>
              <button onclick="finishOnboarding()" class="flex-1 bg-[hsl(var(--primary))] hover:bg-[hsl(var(--primary))]/80 text-[hsl(var(--primary-foreground))] px-4 py-2 rounded-lg text-sm font-medium">
                Start Learning!
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Authentication Modals -->
    <!-- Login Modal -->
    <div id="login-modal" class="onboarding-overlay">
      <div class="onboarding-card">
        <div class="onboarding-header">
          <h2 class="text-xl font-bold mb-2">Welcome Back! 👩‍⚕️</h2>
          <p class="text-sm opacity-90">Sign in to continue your nursing journey</p>
        </div>
        <div class="onboarding-content">
          <form class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-[hsl(var(--foreground))] mb-2">Email or Username</label>
              <input 
                type="text" 
                class="w-full px-3 py-2 bg-[hsl(var(--input))] border border-[hsl(var(--border))] rounded-lg text-[hsl(var(--foreground))] placeholder-[hsl(var(--muted-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))]"
                placeholder="Enter your email or username"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-[hsl(var(--foreground))] mb-2">Password</label>
              <input 
                type="password" 
                class="w-full px-3 py-2 bg-[hsl(var(--input))] border border-[hsl(var(--border))] rounded-lg text-[hsl(var(--foreground))] placeholder-[hsl(var(--muted-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))]"
                placeholder="Enter your password"
              />
            </div>
            <div class="flex items-center justify-between">
              <label class="flex items-center">
                <input type="checkbox" class="rounded border-[hsl(var(--border))] text-[hsl(var(--primary))]">
                <span class="ml-2 text-sm text-[hsl(var(--muted-foreground))]">Remember me</span>
              </label>
              <button type="button" class="text-sm text-[hsl(var(--primary))] hover:underline">
                Forgot password?
              </button>
            </div>
            <button 
              type="submit"
              class="w-full bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] py-2 px-4 rounded-lg font-medium hover:bg-[hsl(var(--primary))]/90 transition-colors"
            >
              Sign In
            </button>
          </form>
          <div class="mt-6 text-center">
            <p class="text-sm text-[hsl(var(--muted-foreground))]">
              Don't have an account? 
              <button onclick="showSignup()" class="text-[hsl(var(--primary))] hover:underline font-medium">
                Sign up here
              </button>
            </p>
          </div>
          <div class="mt-4 flex justify-end gap-3">
            <button onclick="closeLogin()" class="px-4 py-2 text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))]">
              Cancel
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Signup Modal -->
    <div id="signup-modal" class="onboarding-overlay">
      <div class="onboarding-card">
        <div class="onboarding-header">
          <h2 class="text-xl font-bold mb-2">Join NextRN! 🚀</h2>
          <p class="text-sm opacity-90">Create your account and start connecting</p>
        </div>
        <div class="onboarding-content">
          <form class="space-y-4">
            <div class="grid grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium text-[hsl(var(--foreground))] mb-2">First Name</label>
                <input 
                  type="text" 
                  class="w-full px-3 py-2 bg-[hsl(var(--input))] border border-[hsl(var(--border))] rounded-lg text-[hsl(var(--foreground))] placeholder-[hsl(var(--muted-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))]"
                  placeholder="First name"
                />
              </div>
              <div>
                <label class="block text-sm font-medium text-[hsl(var(--foreground))] mb-2">Last Name</label>
                <input 
                  type="text" 
                  class="w-full px-3 py-2 bg-[hsl(var(--input))] border border-[hsl(var(--border))] rounded-lg text-[hsl(var(--foreground))] placeholder-[hsl(var(--muted-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))]"
                  placeholder="Last name"
                />
              </div>
            </div>
            <div>
              <label class="block text-sm font-medium text-[hsl(var(--foreground))] mb-2">Email</label>
              <input 
                type="email" 
                class="w-full px-3 py-2 bg-[hsl(var(--input))] border border-[hsl(var(--border))] rounded-lg text-[hsl(var(--foreground))] placeholder-[hsl(var(--muted-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))]"
                placeholder="your.email@example.com"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-[hsl(var(--foreground))] mb-2">Nursing Status</label>
              <select class="w-full px-3 py-2 bg-[hsl(var(--input))] border border-[hsl(var(--border))] rounded-lg text-[hsl(var(--foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))]">
                <option>Nursing Student</option>
                <option>New Graduate Nurse</option>
                <option>Registered Nurse (RN)</option>
                <option>Advanced Practice Nurse</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-[hsl(var(--foreground))] mb-2">Password</label>
              <input 
                type="password" 
                class="w-full px-3 py-2 bg-[hsl(var(--input))] border border-[hsl(var(--border))] rounded-lg text-[hsl(var(--foreground))] placeholder-[hsl(var(--muted-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))]"
                placeholder="Create a strong password"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-[hsl(var(--foreground))] mb-2">Confirm Password</label>
              <input 
                type="password" 
                class="w-full px-3 py-2 bg-[hsl(var(--input))] border border-[hsl(var(--border))] rounded-lg text-[hsl(var(--foreground))] placeholder-[hsl(var(--muted-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))]"
                placeholder="Confirm your password"
              />
            </div>
            <div class="flex items-start">
              <input type="checkbox" class="mt-1 rounded border-[hsl(var(--border))] text-[hsl(var(--primary))]">
              <span class="ml-2 text-sm text-[hsl(var(--muted-foreground))]">
                I agree to the <button type="button" class="text-[hsl(var(--primary))] hover:underline">Terms of Service</button> 
                and <button type="button" class="text-[hsl(var(--primary))] hover:underline">Privacy Policy</button>
              </span>
            </div>
            <button 
              type="submit"
              class="w-full bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] py-2 px-4 rounded-lg font-medium hover:bg-[hsl(var(--primary))]/90 transition-colors"
            >
              Create Account
            </button>
          </form>
          <div class="mt-6 text-center">
            <p class="text-sm text-[hsl(var(--muted-foreground))]">
              Already have an account? 
              <button onclick="showLogin()" class="text-[hsl(var(--primary))] hover:underline font-medium">
                Sign in here
              </button>
            </p>
          </div>
          <div class="mt-4 flex justify-end gap-3">
            <button onclick="closeSignup()" class="px-4 py-2 text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))]">
              Cancel
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- New Thread Modal -->
    <div id="new-thread-modal" class="onboarding-overlay">
      <div class="onboarding-card">
        <div class="onboarding-header">
          <h2 class="text-xl font-bold mb-2">Create New Thread 📝</h2>
          <p class="text-sm opacity-90">Share your thoughts with the nursing community</p>
        </div>
        <div class="onboarding-content">
          <form class="space-y-4">
            <div>
              <textarea
                id="thread-content"
                placeholder="What's happening in nursing school? Share your experiences, questions, or insights..."
                class="w-full px-3 py-3 bg-[hsl(var(--input))] border border-[hsl(var(--border))] rounded-lg text-[hsl(var(--foreground))] placeholder-[hsl(var(--muted-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))] resize-none min-h-32"
                rows="4"
              ></textarea>
            </div>
            
            <!-- Thread Options -->
            <div class="flex items-center gap-4 py-2">
              <button
                type="button"
                class="flex items-center gap-2 text-[hsl(var(--primary))] hover:text-[hsl(var(--primary))]/80 transition-colors"
                title="Add image"
              >
                <i data-lucide="image" class="w-5 h-5"></i>
                <span class="text-sm">Photo</span>
              </button>
              <button
                type="button"
                class="flex items-center gap-2 text-[hsl(var(--primary))] hover:text-[hsl(var(--primary))]/80 transition-colors"
                title="Add emoji"
              >
                <i data-lucide="smile" class="w-5 h-5"></i>
                <span class="text-sm">Emoji</span>
              </button>
              <button
                type="button"
                class="flex items-center gap-2 text-[hsl(var(--primary))] hover:text-[hsl(var(--primary))]/80 transition-colors"
                title="Schedule post"
              >
                <i data-lucide="calendar" class="w-5 h-5"></i>
                <span class="text-sm">Schedule</span>
              </button>
            </div>

            <!-- Character count -->
            <div class="text-right">
              <span id="char-count" class="text-xs text-[hsl(var(--muted-foreground))]">0/280</span>
            </div>

            <!-- Action buttons -->
            <div class="flex gap-3 pt-2">
              <button
                type="button"
                onclick="closeNewThreadModal()"
                class="flex-1 px-4 py-2 text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))] transition-colors"
              >
                Cancel
              </button>
              <button
                type="submit"
                class="flex-1 bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] py-2 px-4 rounded-lg font-medium hover:bg-[hsl(var(--primary))]/90 transition-colors"
              >
                Post Thread
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <script>
      // Initialize Lucide icons
      lucide.createIcons();

      // Simple hash-based navigation
      function showSection(section) {
        // Hide all sections
        document.getElementById('threads-section').classList.add('hidden');
        document.getElementById('chat-section').classList.add('hidden');
        document.getElementById('guest-section').classList.add('hidden');
        document.getElementById('hall-section').classList.add('hidden');
        document.getElementById('livestream-section').classList.add('hidden');
        document.getElementById('settings-section').classList.add('hidden');

        // Remove active class from all nav links
        document.querySelectorAll('nav a').forEach((link) => {
          link.classList.remove('active');
        });

        // Show/hide FAB based on section (only show on threads page)
        const fabButton = document.getElementById('fab-button');
        if (section === 'threads') {
          fabButton.style.display = 'flex';
        } else {
          fabButton.style.display = 'none';
        }

        // Show selected section and set active nav
        switch (section) {
          case 'threads':
            document
              .getElementById('threads-section')
              .classList.remove('hidden');
            document.getElementById('threads-section').classList.add('flex');
            document
              .querySelector('nav a[data-section="threads"]')
              .classList.add('active');
            break;
          case 'chat':
            document.getElementById('chat-section').classList.remove('hidden');
            document.getElementById('chat-section').classList.add('flex');
            document
              .querySelector('nav a[data-section="chat"]')
              .classList.add('active');
            break;
          case 'livestream':
            document
              .getElementById('livestream-section')
              .classList.remove('hidden');
            document.getElementById('livestream-section').classList.add('flex');
            document
              .querySelector('nav a[data-section="livestream"]')
              .classList.add('active');
            break;
          case 'guest':
            document.getElementById('guest-section').classList.remove('hidden');
            document.getElementById('guest-section').classList.add('flex');
            document
              .querySelector('nav a[data-section="guest"]')
              .classList.add('active');
            break;
          case 'hall':
            document.getElementById('hall-section').classList.remove('hidden');
            document.getElementById('hall-section').classList.add('flex');
            document
              .querySelector('nav a[data-section="hall"]')
              .classList.add('active');
            break;
          case 'settings':
            document.getElementById('settings-section').classList.remove('hidden');
            document.getElementById('settings-section').classList.add('flex');
            document
              .querySelector('nav a[data-section="settings"]')
              .classList.add('active');
            break;
        }
      }

      // Handle hash navigation
      function handleHashChange() {
        const hash = window.location.hash.slice(1) || 'threads';
        showSection(hash);
      }

      // Listen for hash changes
      window.addEventListener('hashchange', handleHashChange);

      // Set initial section on page load
      document.addEventListener('DOMContentLoaded', handleHashChange);

      // Floating Action Button functionality
      function openNewPostModal() {
        // Open the new thread modal instead of switching sections
        openNewThreadModal();
        window.location.hash = 'threads';
        
        // Focus on the new thread textarea after a brief delay
        setTimeout(() => {
          const textarea = document.querySelector('#threads-section textarea');
          if (textarea) {
            textarea.focus();
            textarea.scrollIntoView({ behavior: 'smooth', block: 'center' });
          }
        }, 100);
      }

      // Study Timer functionality
      let timerInterval;
      let timeLeft = 25 * 60; // 25 minutes in seconds
      let isRunning = false;

      function updateTimerDisplay() {
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        const display = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        const timerElement = document.getElementById('timer-display');
        if (timerElement) {
          timerElement.textContent = display;
        }
      }

      function startTimer() {
        if (!isRunning) {
          isRunning = true;
          timerInterval = setInterval(() => {
            timeLeft--;
            updateTimerDisplay();
            
            if (timeLeft <= 0) {
              clearInterval(timerInterval);
              isRunning = false;
              alert('🎉 Study session complete! Time for a break.');
              timeLeft = 25 * 60; // Reset to 25 minutes
              updateTimerDisplay();
            }
          }, 1000);
        }
      }

      function pauseTimer() {
        if (isRunning) {
          clearInterval(timerInterval);
          isRunning = false;
        }
      }

      function resetTimer() {
        clearInterval(timerInterval);
        isRunning = false;
        timeLeft = 25 * 60;
        updateTimerDisplay();
      }

      // Add event listeners for timer buttons
      document.addEventListener('DOMContentLoaded', function() {
        const startBtn = document.getElementById('timer-start');
        const pauseBtn = document.getElementById('timer-pause');
        const resetBtn = document.getElementById('timer-reset');
        
        if (startBtn) startBtn.addEventListener('click', startTimer);
        if (pauseBtn) pauseBtn.addEventListener('click', pauseTimer);
        if (resetBtn) resetBtn.addEventListener('click', resetTimer);
        
        updateTimerDisplay();
      });

      // Notification Center functionality
      function toggleNotifications() {
        const panel = document.getElementById('notification-panel');
        const overlay = document.getElementById('notification-overlay');
        
        if (panel.classList.contains('open')) {
          closeNotifications();
        } else {
          panel.classList.add('open');
          overlay.classList.add('open');
          document.body.style.overflow = 'hidden';
        }
      }

      function closeNotifications() {
        const panel = document.getElementById('notification-panel');
        const overlay = document.getElementById('notification-overlay');
        
        panel.classList.remove('open');
        overlay.classList.remove('open');
        document.body.style.overflow = 'auto';
      }

      // Close notifications on escape key
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          closeNotifications();
          closeSearch();
        }
        
        // Global search shortcut (Ctrl+K)
        if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
          e.preventDefault();
          openSearch();
        }
      });

      // Global Search functionality
      function openSearch() {
        const modal = document.getElementById('search-modal');
        const input = document.getElementById('search-input');
        
        modal.classList.add('open');
        document.body.style.overflow = 'hidden';
        
        // Focus input after animation
        setTimeout(() => {
          input.focus();
        }, 100);
      }

      function closeSearch() {
        const modal = document.getElementById('search-modal');
        const input = document.getElementById('search-input');
        
        modal.classList.remove('open');
        document.body.style.overflow = 'auto';
        input.value = '';
      }

      function performSearch(query) {
        // Simulate search functionality
        document.getElementById('search-input').value = query;
        
        // Close search and show results in threads section
        setTimeout(() => {
          closeSearch();
          showSection('threads');
          window.location.hash = 'threads';
        }, 500);
      }

      function viewProfile(name) {
        // Simulate profile view
        closeSearch();
        alert(`Viewing profile: ${name}`);
      }

      // Onboarding Flow functionality
      let currentOnboardingStep = 1;
      const totalOnboardingSteps = 5;

      function startOnboarding() {
        currentOnboardingStep = 1;
        const overlay = document.getElementById('onboarding-overlay');
        overlay.classList.add('open');
        document.body.style.overflow = 'hidden';
        showOnboardingStep(1);
      }

      function nextOnboardingStep() {
        if (currentOnboardingStep < totalOnboardingSteps) {
          currentOnboardingStep++;
          showOnboardingStep(currentOnboardingStep);
        }
      }

      function prevOnboardingStep() {
        if (currentOnboardingStep > 1) {
          currentOnboardingStep--;
          showOnboardingStep(currentOnboardingStep);
        }
      }

      function showOnboardingStep(step) {
        // Hide all steps
        for (let i = 1; i <= totalOnboardingSteps; i++) {
          const stepElement = document.getElementById(`onboarding-step-${i}`);
          if (stepElement) {
            stepElement.classList.add('hidden');
          }
        }
        
        // Show current step
        const currentStepElement = document.getElementById(`onboarding-step-${step}`);
        if (currentStepElement) {
          currentStepElement.classList.remove('hidden');
        }

        // Re-initialize Lucide icons for the new step
        setTimeout(() => {
          lucide.createIcons();
        }, 100);
      }

      function skipOnboarding() {
        finishOnboarding();
      }

      function finishOnboarding() {
        const overlay = document.getElementById('onboarding-overlay');
        overlay.classList.remove('open');
        document.body.style.overflow = 'auto';
        
        // Show threads section
        showSection('threads');
        window.location.hash = 'threads';
        
        // Optional: Show a welcome message
        setTimeout(() => {
          // Could trigger a toast notification here
        }, 500);
      }

      // Authentication Functions
      function showLogin() {
        const loginModal = document.getElementById('login-modal');
        const signupModal = document.getElementById('signup-modal');
        
        // Hide signup modal if open
        signupModal.classList.remove('open');
        
        // Show login modal
        loginModal.classList.add('open');
        document.body.style.overflow = 'hidden';
      }

      function closeLogin() {
        const loginModal = document.getElementById('login-modal');
        loginModal.classList.remove('open');
        document.body.style.overflow = 'auto';
      }

      function showSignup() {
        const loginModal = document.getElementById('login-modal');
        const signupModal = document.getElementById('signup-modal');
        
        // Hide login modal if open
        loginModal.classList.remove('open');
        
        // Show signup modal
        signupModal.classList.add('open');
        document.body.style.overflow = 'hidden';
      }

      function closeSignup() {
        const signupModal = document.getElementById('signup-modal');
        signupModal.classList.remove('open');
        document.body.style.overflow = 'auto';
      }

      function handleLogout() {
        // Show login modal when user clicks logout
        showLogin();
      }

      // New Thread Modal Functions
      function openNewThreadModal() {
        const modal = document.getElementById('new-thread-modal');
        modal.classList.add('open');
        document.body.style.overflow = 'hidden';
        
        // Focus on textarea after animation
        setTimeout(() => {
          const textarea = document.getElementById('thread-content');
          if (textarea) {
            textarea.focus();
          }
        }, 100);
      }

      function closeNewThreadModal() {
        const modal = document.getElementById('new-thread-modal');
        const textarea = document.getElementById('thread-content');
        
        modal.classList.remove('open');
        document.body.style.overflow = 'auto';
        
        // Clear the textarea
        if (textarea) {
          textarea.value = '';
          updateCharCount();
        }
      }

      function updateCharCount() {
        const textarea = document.getElementById('thread-content');
        const charCount = document.getElementById('char-count');
        
        if (textarea && charCount) {
          const count = textarea.value.length;
          charCount.textContent = `${count}/280`;
          
          // Change color if approaching limit
          if (count > 250) {
            charCount.style.color = 'hsl(var(--destructive))';
          } else if (count > 200) {
            charCount.style.color = 'hsl(var(--chart-4))';
          } else {
            charCount.style.color = 'hsl(var(--muted-foreground))';
          }
        }
      }

      // Add character count listener
      document.addEventListener('DOMContentLoaded', function() {
        const textarea = document.getElementById('thread-content');
        if (textarea) {
          textarea.addEventListener('input', updateCharCount);
        }
      });

      // Auto-resize textarea
      document.addEventListener('input', function (e) {
        if (e.target.tagName === 'TEXTAREA') {
          e.target.style.height = 'auto';
          e.target.style.height = e.target.scrollHeight + 'px';
        }
      });
    </script>
  </body>
</html>
